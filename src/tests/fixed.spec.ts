import { Fixed } from '../core/fixed';
import { FixedPrecision } from '../core/fixed-precision';
import each from 'jest-each';
import { partialMock, mock } from 'frl-ts-mocking/lib/core/mock';
import { IMockedMethodInfo } from 'frl-ts-mocking/lib/core/mocked-method-info.interface';

const precisions = [...Array(16).keys()];

function forAllPrecisions(action: (p: FixedPrecision) => void): void
{
    for (const precision of precisions)
        action(precision as FixedPrecision);
}

test('ctor should create zeros with proper precision',
    () =>
    {
        forAllPrecisions(p =>
            {
                const fixed = new Fixed(p);
                expect(fixed.precision).toBe(p);
                expect(fixed.normalizedValue).toBe(0);
            });
    }
);

test('static GetEmpty should return zero with precision equal to 0',
    () =>
    {
        const fixed = Fixed.GetEmpty();
        expect(fixed.precision).toBe(0);
        expect(fixed.normalizedValue).toBe(0);
        expect(Fixed.GetEmpty()).not.toBe(fixed);
    }
);

each([
    [0, 9007199254740991],
    [1, 900719925474099],
    [2, 90071992547409],
    [3, 9007199254740],
    [4, 900719925474],
    [5, 90071992547],
    [6, 9007199254],
    [7, 900719925],
    [8, 90071992],
    [9, 9007199],
    [10, 900719],
    [11, 90071],
    [12, 9007],
    [13, 900],
    [14, 90],
    [15, 9]
])
.test('static GetMaxValue and GetMinValue should return correct results (%#): precision: %f, expected value: %f',
    (precision: FixedPrecision, value: number) =>
    {
        const max = Fixed.GetMaxValue(precision);
        const min = Fixed.GetMinValue(precision);
        expect(max).toBe(value);
        expect(min).toBe(-value);
    }
);

test('static GetEpsilon should return correct number',
    () =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.GetEpsilon(p);
                expect(fixed.precision).toBe(p);
                expect(fixed.normalizedValue).toBe(1);
            });
    }
);

each([
    [0, 0],
    [-0, 0],
    [-1, -1],
    [1, 1],
    [1.5, 1],
    [-2.99, -2],
    [Fixed.GetMaxValue(0), Fixed.GetMaxValue(0)],
    [Fixed.GetMinValue(0), Fixed.GetMinValue(0)],
    [900719925.467, 900719925],
    [-633.00024, -633],
    [10.99, 10]
])
.test('static FromNormalized should return correct number (%#): value: %f, expected value: %f',
    (value: number, expectedValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.precision).toBe(p);
                expect(fixed.normalizedValue).toBe(expectedValue);
            });
    }
);

each([
    [0, 0, 0],
    [0, -0, 0],
    [0, 17, 17],
    [0, 11.99112, 12],
    [0, 9.013673, 9],
    [0, 0.5, 1],
    [0, -5, -5],
    [0, -7.5, -7],
    [0, -12.987, -13],
    [0, -1.1, -1],
    [1, 0, 0],
    [1, -0, 0],
    [1, 17, 170],
    [1, 11.94112, 119],
    [1, 9.05, 91],
    [1, 0.5, 5],
    [1, -5, -50],
    [1, -7.5, -75],
    [1, -12.987, -130],
    [1, -1.1, -11],
    [2, 0, 0],
    [2, -0, 0],
    [2, 17.01, 1701],
    [2, 11.94112, 1194],
    [2, 9.05, 905],
    [2, 0.555, 56],
    [2, -5, -500],
    [2, -7.519, -752],
    [2, -12.987, -1299],
    [2, -1.1, -110],
    [3, 0, 0],
    [3, -0, 0],
    [3, 17.0005, 17001],
    [3, 11.94112, 11941],
    [3, 9.0501, 9050],
    [3, 0.555, 555],
    [3, -5, -5000],
    [3, -7.5199, -7520],
    [3, -12.9871, -12987],
    [3, -1.1567, -1157],
    [8, 0.0004000231, 40002],
    [8, 8, 800000000],
    [8, 17.012345678, 1701234568],
    [8, 11.941122145, 1194112215],
    [8, 9.0000000049, 900000000],
    [8, 0.555000099, 55500010],
    [8, -5, -500000000],
    [8, -7.519901239, -751990124],
    [8, -12.987101201, -1298710120],
    [8, -1.156789056, -115678906],
    [15, 0.0000040002310124, 4000231012],
    [15, 8, 8000000000000000],
    [15, 7.012345678912345, 7012345678912345],
    [15, 0.9411221458912399, 941122145891240],
    [15, 9.000000000000046, 9000000000000046],
    [15, 0.5550000000100005, 555000000010001],
    [15, -5, -5000000000000000],
    [15, -7.519901239451877, -7519901239451877],
    [15, -2.987101201010152, -2987101201010152],
    [15, -1.156789056789, -1156789056789000]
])
.test('static FromNumber should return correct number (%#): precision: %f, value: %f, expected norm. value: %f',
    (precision: FixedPrecision, value: number, expectedNormValue: number) =>
    {
        const fixed = Fixed.FromNumber(value, precision);
        expect(fixed.precision).toBe(precision);
        expect(fixed.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), void(0), 0, 0],
    [Fixed.FromNormalized(1, 0), void(0), 0, 1],
    [Fixed.FromNormalized(-1, 0), void(0), 0, -1],
    [Fixed.FromNormalized(5, 0), 0, 0, 5],
    [Fixed.FromNormalized(5, 0), 2, 2, 500],
    [Fixed.FromNormalized(15, 1), void(0), 1, 15],
    [Fixed.FromNormalized(22, 1), 1, 1, 22],
    [Fixed.FromNormalized(5, 1), 0, 0, 1],
    [Fixed.FromNormalized(4, 1), 0, 0, 0],
    [Fixed.FromNormalized(19, 1), 0, 0, 2],
    [Fixed.FromNormalized(-5, 1), 0, 0, 0],
    [Fixed.FromNormalized(-6, 1), 0, 0, -1],
    [Fixed.FromNormalized(26, 1), 5, 5, 260000],
    [Fixed.FromNormalized(157, 2), void(0), 2, 157],
    [Fixed.FromNormalized(226743, 2), 2, 2, 226743],
    [Fixed.FromNormalized(550, 2), 0, 0, 6],
    [Fixed.FromNormalized(149, 2), 0, 0, 1],
    [Fixed.FromNormalized(199, 2), 1, 1, 20],
    [Fixed.FromNormalized(-6, 2), 1, 1, -1],
    [Fixed.FromNormalized(-4, 2), 0, 0, 0],
    [Fixed.FromNormalized(26884, 2), 7, 7, 2688400000],
    [Fixed.FromNormalized(1578, 3), void(0), 3, 1578],
    [Fixed.FromNormalized(2267432, 3), 3, 3, 2267432],
    [Fixed.FromNormalized(5500, 3), 0, 0, 6],
    [Fixed.FromNormalized(1499, 3), 1, 1, 15],
    [Fixed.FromNormalized(1989, 3), 2, 2, 199],
    [Fixed.FromNormalized(-6, 3), 2, 2, -1],
    [Fixed.FromNormalized(-6, 3), 1, 1, 0],
    [Fixed.FromNormalized(-4, 3), 0, 0, 0],
    [Fixed.FromNormalized(26884, 3), 4, 4, 268840],
    [Fixed.FromNormalized(157812349, 8), void(0), 8, 157812349],
    [Fixed.FromNormalized(226743255123, 8), 8, 8, 226743255123],
    [Fixed.FromNormalized(550000000, 8), 0, 0, 6],
    [Fixed.FromNormalized(149999999, 8), 1, 1, 15],
    [Fixed.FromNormalized(198999999, 8), 2, 2, 199],
    [Fixed.FromNormalized(109999999, 8), 3, 3, 1100],
    [Fixed.FromNormalized(198099999, 8), 4, 4, 19810],
    [Fixed.FromNormalized(149990999, 8), 5, 5, 149991],
    [Fixed.FromNormalized(1, 8), 6, 6, 0],
    [Fixed.FromNormalized(123, 8), 7, 7, 12],
    [Fixed.FromNormalized(-6, 8), 7, 7, -1],
    [Fixed.FromNormalized(-49, 8), 6, 6, 0],
    [Fixed.FromNormalized(-501, 8), 5, 5, -1],
    [Fixed.FromNormalized(-5005, 8), 4, 4, -1],
    [Fixed.FromNormalized(-490021, 8), 3, 3, -5],
    [Fixed.FromNormalized(-5000009, 8), 2, 2, -5],
    [Fixed.FromNormalized(-4900005, 8), 1, 1, 0],
    [Fixed.FromNormalized(-50000000, 8), 0, 0, 0],
    [Fixed.FromNormalized(2688412397, 8), 13, 13, 268841239700000],
    [Fixed.FromNormalized(157812349887, 15), void(0), 15, 157812349887],
    [Fixed.FromNormalized(226743255123125, 15), 15, 15, 226743255123125],
    [Fixed.FromNormalized(5500000000000000, 15), 0, 0, 6],
    [Fixed.FromNormalized(1499999999999999, 15), 1, 1, 15],
    [Fixed.FromNormalized(1989999999999999, 15), 2, 2, 199],
    [Fixed.FromNormalized(1099999999999999, 15), 3, 3, 1100],
    [Fixed.FromNormalized(1980999999999999, 15), 4, 4, 19810],
    [Fixed.FromNormalized(1499909999999999, 15), 5, 5, 149991],
    [Fixed.FromNormalized(1000000999999999, 15), 6, 6, 1000001],
    [Fixed.FromNormalized(1000000199999999, 15), 7, 7, 10000002],
    [Fixed.FromNormalized(1000000004999999, 15), 8, 8, 100000000],
    [Fixed.FromNormalized(1000000004999999, 15), 9, 9, 1000000005],
    [Fixed.FromNormalized(1000000000999999, 15), 10, 10, 10000000010],
    [Fixed.FromNormalized(1000000000499999, 15), 11, 11, 100000000050],
    [Fixed.FromNormalized(1000000000004999, 15), 12, 12, 1000000000005],
    [Fixed.FromNormalized(1000000000000999, 15), 13, 13, 10000000000010],
    [Fixed.FromNormalized(1000000000000004, 15), 14, 14, 100000000000000],
    [Fixed.FromNormalized(-6, 15), 14, 14, -1],
    [Fixed.FromNormalized(-49, 15), 12, 12, 0],
    [Fixed.FromNormalized(-501, 15), 10, 10, 0],
    [Fixed.FromNormalized(-500000005, 15), 9, 9, -500],
    [Fixed.FromNormalized(-4900009021, 15), 7, 7, -49],
    [Fixed.FromNormalized(-5000009, 15), 3, 3, 0],
    [Fixed.FromNormalized(-5000009, 15), 2, 2, 0],
    [Fixed.FromNormalized(-4900005, 15), 1, 1, 0],
    [Fixed.FromNormalized(-50000000, 15), 0, 0, 0]
])
.test('static FromFixed should return correct number (%#): source: %o, precision: %f, expected precision: %f, expected norm. value: %f',
    (source: Fixed, precision: FixedPrecision | undefined, expectedPrecision: FixedPrecision, expectedNormValue: number) =>
    {
        const fixed = Fixed.FromFixed(source, precision);
        expect(fixed).not.toBe(source);
        expect(fixed.precision).toBe(expectedPrecision);
        expect(fixed.normalizedValue).toBe(expectedNormValue);
    }
);

test('static Negate should clone and negate',
    () =>
    {
        const value = 100;
        forAllPrecisions(p =>
            {
                const clone = mock<Fixed>({
                    negate() { return this as Fixed; }
                });
                const source = partialMock(Fixed.FromNormalized(value, p), {
                    clone() { return clone.subject; }
                });
                const result = Fixed.Negate(source.subject);

                const cloneMethod = source.getMemberInfo('clone') as IMockedMethodInfo;
                const negateMethod = clone.getMemberInfo('negate') as IMockedMethodInfo;

                expect(result).toBe(clone.subject);
                expect(source.subject.normalizedValue).toBe(value);
                expect(cloneMethod.count).toBe(1);
                expect(negateMethod.count).toBe(1);
            });
    }
);

function assertStaticBinaryOperator<T>(
    methodName: keyof Fixed,
    paramProvider: (p: FixedPrecision) => T,
    invoker: (first: Readonly<Fixed>, second: T) => Fixed):
    void
{
    const value = 100;
    forAllPrecisions(p =>
        {
            const setup: { [k: string]: any } = {};
            setup[methodName] = function(_: T) { return this as Fixed; };

            const clone = mock(setup as Partial<Fixed>);
            const source = partialMock(Fixed.FromNormalized(value, p), {
                clone() { return clone.subject; }
            });
            const param = paramProvider(p);
            const result = invoker(source.subject, param);

            const cloneMethod = source.getMemberInfo('clone') as IMockedMethodInfo;
            const addNumberMethod = clone.getMemberInfo(methodName) as IMockedMethodInfo;

            expect(result).toBe(clone.subject);
            expect(source.subject.normalizedValue).toBe(value);
            expect(cloneMethod.count).toBe(1);
            expect(addNumberMethod.count).toBe(1);
            expect(addNumberMethod.getData(0)!.arguments[0]).toBe(param);
        });
}

test('static Add should clone and add',
    () => assertStaticBinaryOperator('add', p => Fixed.GetEpsilon(p), (a, b) => Fixed.Add(a, b))
);

test('static AddNumber should clone and add',
    () => assertStaticBinaryOperator('addNumber', () => 1, (a, b) => Fixed.AddNumber(a, b))
);

test('static AddNormalized should clone and add',
    () => assertStaticBinaryOperator('addNormalized', () => 1, (a, b) => Fixed.AddNormalized(a, b))
);

test('static Subtract should clone and subtract',
    () => assertStaticBinaryOperator('subtract', p => Fixed.GetEpsilon(p), (a, b) => Fixed.Subtract(a, b))
);

test('static SubtractNumber should clone and subtract',
    () => assertStaticBinaryOperator('subtractNumber', () => 1, (a, b) => Fixed.SubtractNumber(a, b))
);

test('static SubtractNormalized should clone and subtract',
    () => assertStaticBinaryOperator('subtractNormalized', () => 1, (a, b) => Fixed.SubtractNormalized(a, b))
);

test('static Multiply should clone and multiply',
    () => assertStaticBinaryOperator('multiply', p => Fixed.GetEpsilon(p), (a, b) => Fixed.Multiply(a, b))
);

test('static MultiplyByNumber should clone and multiply',
    () => assertStaticBinaryOperator('multiplyByNumber', () => 1, (a, b) => Fixed.MultiplyByNumber(a, b))
);

test('static MultiplyByNormalized should clone and multiply',
    () => assertStaticBinaryOperator('multiplyByNormalized', () => 1, (a, b) => Fixed.MultiplyByNormalized(a, b))
);

test('static Divide should clone and divide',
    () => assertStaticBinaryOperator('divide', p => Fixed.GetEpsilon(p), (a, b) => Fixed.Divide(a, b))
);

test('static DivideByNumber should clone and divide',
    () => assertStaticBinaryOperator('divideByNumber', () => 1, (a, b) => Fixed.DivideByNumber(a, b))
);

test('static DivideByNormalized should clone and divide',
    () => assertStaticBinaryOperator('divideByNormalized', () => 1, (a, b) => Fixed.DivideByNormalized(a, b))
);

test('static Modulo should clone and modulo',
    () => assertStaticBinaryOperator('modulo', p => Fixed.GetEpsilon(p), (a, b) => Fixed.Modulo(a, b))
);

test('static ModuloByNumber should clone and modulo',
    () => assertStaticBinaryOperator('moduloByNumber', () => 1, (a, b) => Fixed.ModuloByNumber(a, b))
);

test('static ModuloByNormalized should clone and modulo',
    () => assertStaticBinaryOperator('moduloByNormalized', () => 1, (a, b) => Fixed.ModuloByNormalized(a, b))
);

each([
    [Fixed.GetMaxValue(0) - 1, true],
    [Fixed.GetMaxValue(0), true],
    [Fixed.GetMaxValue(0) + 1, false],
    [Fixed.GetMinValue(0) + 1, true],
    [Fixed.GetMinValue(0), true],
    [Fixed.GetMinValue(0) - 1, false]
])
.test('isSafe should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isSafe).toBe(expected);
            });
    }
);

each([
    [NaN, true],
    [Infinity, false],
    [0, false],
    [1, false],
    [-1, false]
])
.test('isNaN should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isNaN).toBe(expected);
            });
    }
);

each([
    [Infinity, true],
    [NaN, false],
    [0, false],
    [1, false],
    [-1, false]
])
.test('isInfinity should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isInfinity).toBe(expected);
            });
    }
);

each([
    [1, false],
    [0, true],
    [-1, false]
])
.test('isZero should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isZero).toBe(expected);
            });
    }
);

each([
    [1, true],
    [0, false],
    [-1, false]
])
.test('isPositive should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isPositive).toBe(expected);
            });
    }
);

each([
    [1, false],
    [0, false],
    [-1, true]
])
.test('isNegative should return correct result (%#): normalized value: %f, expected result: %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                expect(fixed.isNegative).toBe(expected);
            });
    }
);

each([
    [0, true],
    [1, true],
    [-1, true],
    [2, true],
    [-2, true],
    [3, true],
    [-3, true],
    [5, true],
    [-5, true],
    [7, true],
    [-7, true],
    [8, true],
    [-8, true],
    [9, true],
    [-9, true],
    [1.1, false],
    [-1.2, false],
    [2.3, false],
    [-2.4, false],
    [3.5, false],
    [-3.6, false],
    [5.7, false],
    [-5.8, false],
    [7.9, false],
    [-7.1, false],
    [8.2, false],
    [-8.3, false]
])
.test('isInteger should return correct result (%#): number: %f, expected result (for precision > 0): %s',
    (value: number, expected: boolean) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNumber(value, p);
                expect(fixed.isInteger).toBe(p === 0 || expected);
            });
    }
);

each([
    [0, 0, 0],
    [0, 1, 1],
    [0, -1, -1],
    [0, 123, 123],
    [1, 0, 0],
    [1, 1, 0.1],
    [1, -1, -0.1],
    [1, 10, 1],
    [1, -10, -1],
    [1, 12345, 1234.5],
    [2, 0, 0],
    [2, 1, 0.01],
    [2, -1, -0.01],
    [2, 100, 1],
    [2, -100, -1],
    [2, 12345, 123.45],
    [3, 0, 0],
    [3, 1, 0.001],
    [3, -1, -0.001],
    [3, 1000, 1],
    [3, -1000, -1],
    [3, 12345, 12.345],
    [8, 0, 0],
    [8, 1, 0.00000001],
    [8, -1, -0.00000001],
    [8, 100000000, 1],
    [8, -100000000, -1],
    [8, 123456789, 1.23456789],
    [15, 0, 0],
    [15, 1, 0.000000000000001],
    [15, -1, -0.000000000000001],
    [15, 1000000000000000, 1],
    [15, -1000000000000000, -1],
    [15, 1234567890123456, 1.234567890123456]
])
.test('toNumber should return correct result (%#): precision: %f, norm. value: %f, expected result: %f',
    (precision: FixedPrecision, value: number, expected: number) =>
    {
        const fixed = Fixed.FromNormalized(value, precision);
        const result = fixed.toNumber();
        expect(result).toBeCloseTo(expected, precision);
    }
);

test('toPrecision should return this for the same precision',
    () =>
    {
        forAllPrecisions(p =>
            {
                const fixed = new Fixed(p);
                const result = fixed.toPrecision(p);
                expect(result).toBe(fixed);
            });
    }
);

each([
    [Fixed.FromNormalized(5, 0), 2, 500],
    [Fixed.FromNormalized(5, 1), 0, 1],
    [Fixed.FromNormalized(4, 1), 0, 0],
    [Fixed.FromNormalized(19, 1), 0, 2],
    [Fixed.FromNormalized(-5, 1), 0, 0],
    [Fixed.FromNormalized(-6, 1), 0, -1],
    [Fixed.FromNormalized(26, 1), 5, 260000],
    [Fixed.FromNormalized(550, 2), 0, 6],
    [Fixed.FromNormalized(149, 2), 0, 1],
    [Fixed.FromNormalized(199, 2), 1, 20],
    [Fixed.FromNormalized(-6, 2), 1, -1],
    [Fixed.FromNormalized(-4, 2), 0, 0],
    [Fixed.FromNormalized(26884, 2), 7, 2688400000],
    [Fixed.FromNormalized(5500, 3), 0, 6],
    [Fixed.FromNormalized(1499, 3), 1, 15],
    [Fixed.FromNormalized(1989, 3), 2, 199],
    [Fixed.FromNormalized(-6, 3), 2, -1],
    [Fixed.FromNormalized(-6, 3), 1, 0],
    [Fixed.FromNormalized(-4, 3), 0, 0],
    [Fixed.FromNormalized(26884, 3), 4, 268840],
    [Fixed.FromNormalized(550000000, 8), 0, 6],
    [Fixed.FromNormalized(149999999, 8), 1, 15],
    [Fixed.FromNormalized(198999999, 8), 2, 199],
    [Fixed.FromNormalized(109999999, 8), 3, 1100],
    [Fixed.FromNormalized(198099999, 8), 4, 19810],
    [Fixed.FromNormalized(149990999, 8), 5, 149991],
    [Fixed.FromNormalized(1, 8), 6, 0],
    [Fixed.FromNormalized(123, 8), 7, 12],
    [Fixed.FromNormalized(-6, 8), 7, -1],
    [Fixed.FromNormalized(-49, 8), 6, 0],
    [Fixed.FromNormalized(-501, 8), 5, -1],
    [Fixed.FromNormalized(-5005, 8), 4, -1],
    [Fixed.FromNormalized(-490021, 8), 3, -5],
    [Fixed.FromNormalized(-5000009, 8), 2, -5],
    [Fixed.FromNormalized(-4900005, 8), 1, 0],
    [Fixed.FromNormalized(-50000000, 8), 0, 0],
    [Fixed.FromNormalized(2688412397, 8), 13, 268841239700000],
    [Fixed.FromNormalized(5500000000000000, 15), 0, 6],
    [Fixed.FromNormalized(1499999999999999, 15), 1, 15],
    [Fixed.FromNormalized(1989999999999999, 15), 2, 199],
    [Fixed.FromNormalized(1099999999999999, 15), 3, 1100],
    [Fixed.FromNormalized(1980999999999999, 15), 4, 19810],
    [Fixed.FromNormalized(1499909999999999, 15), 5, 149991],
    [Fixed.FromNormalized(1000000999999999, 15), 6, 1000001],
    [Fixed.FromNormalized(1000000199999999, 15), 7, 10000002],
    [Fixed.FromNormalized(1000000004999999, 15), 8, 100000000],
    [Fixed.FromNormalized(1000000004999999, 15), 9, 1000000005],
    [Fixed.FromNormalized(1000000000999999, 15), 10, 10000000010],
    [Fixed.FromNormalized(1000000000499999, 15), 11, 100000000050],
    [Fixed.FromNormalized(1000000000004999, 15), 12, 1000000000005],
    [Fixed.FromNormalized(1000000000000999, 15), 13, 10000000000010],
    [Fixed.FromNormalized(1000000000000004, 15), 14, 100000000000000],
    [Fixed.FromNormalized(-6, 15), 14, -1],
    [Fixed.FromNormalized(-49, 15), 12, 0],
    [Fixed.FromNormalized(-501, 15), 10, 0],
    [Fixed.FromNormalized(-500000005, 15), 9, -500],
    [Fixed.FromNormalized(-4900009021, 15), 7, -49],
    [Fixed.FromNormalized(-5000009, 15), 3, 0],
    [Fixed.FromNormalized(-5000009, 15), 2, 0],
    [Fixed.FromNormalized(-4900005, 15), 1, 0],
    [Fixed.FromNormalized(-50000000, 15), 0, 0]
])
.test('toPrecision should return correct number (%#): source: %o, precision: %f, expected norm. value: %f',
    (source: Fixed, precision: FixedPrecision, expectedNormValue: number) =>
    {
        const fixed = source.toPrecision(precision);
        expect(fixed).not.toBe(source);
        expect(fixed.precision).toBe(precision);
        expect(fixed.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [0, 0, '0'],
    [0, 1, '1'],
    [0, -1, '-1'],
    [0, 123, '123'],
    [1, 0, '0.0'],
    [1, 1, '0.1'],
    [1, -1, '-0.1'],
    [1, 10, '1.0'],
    [1, -10, '-1.0'],
    [1, 12345, '1234.5'],
    [2, 0, '0.00'],
    [2, 1, '0.01'],
    [2, -1, '-0.01'],
    [2, 100, '1.00'],
    [2, -100, '-1.00'],
    [2, 12345, '123.45'],
    [3, 0, '0.000'],
    [3, 1, '0.001'],
    [3, -1, '-0.001'],
    [3, 1000, '1.000'],
    [3, -1000, '-1.000'],
    [3, 12345, '12.345'],
    [8, 0, '0.00000000'],
    [8, 1, '0.00000001'],
    [8, -1, '-0.00000001'],
    [8, 100000000, '1.00000000'],
    [8, -100000000, '-1.00000000'],
    [8, 123456789, '1.23456789'],
    [15, 0, '0.000000000000000'],
    [15, 1, '0.000000000000001'],
    [15, -1, '-0.000000000000001'],
    [15, 1000000000000000, '1.000000000000000'],
    [15, -1000000000000000, '-1.000000000000000'],
    [15, 1234567890123456, '1.234567890123456']
])
.test('toString should return correct result (%#): precision: %f, norm. value: %f, expected result: %s',
    (precision: FixedPrecision, value: number, expected: string) =>
    {
        const fixed = Fixed.FromNormalized(value, precision);
        const result = fixed.toString();
        expect(result).toBe(expected);
    }
);

each([
    [0],
    [1],
    [-1],
    [10],
    [123456],
    [-252124113],
    [12720761210243]
])
.test('clone should return correct result (%#): norm. value: %f',
    (value: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(value, p);
                const result = fixed.clone();
                expect(result).not.toBe(fixed);
                expect(result.precision).toBe(fixed.precision);
                expect(result.normalizedValue).toBe(fixed.normalizedValue);
            });
    }
);

each([
    [0, 0],
    [1, 0],
    [-1, 0],
    [0, 1],
    [0, -1],
    [231, 132],
    [-231, -132],
    [87, -149],
    [-87, 149],
    [231001, 7894],
    [-231001, -7894],
    [87456, -149123456678],
    [-87456, 149123456678]
])
.test('assign should change value properly for the same precision (%#): source norm. value: %f, other norm. value: %f',
    (sourceValue: number, otherValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(sourceValue, p);
                const other = Fixed.FromNormalized(otherValue, p);
                const result = fixed.assign(other);
                expect(result).toBe(fixed);
                expect(result.normalizedValue).toBe(other.normalizedValue);
            });
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 1],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), -1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), -1],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 13],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), -14],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), -15],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), 14],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 1],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), -1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), -1],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 13],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), -14],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), -15],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), 14],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 1],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), -1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), -1],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 13],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), -14],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), -15],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), 14],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 1],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), -1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), -1],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 5],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), -4],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), -8],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), 4],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), 10],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), -10],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), 40],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), 50],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), 90],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), 100],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), -40],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), -50],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), -90],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), -100],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), 1320],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), -1370],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), -1490],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), 1410],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), -1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), -1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 13],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), -14],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), -15],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), 14],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), -1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), -1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 13],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), -14],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), -15],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), 14],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), -1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), -1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 5],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), -4],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), -8],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), 4],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), 1000],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), -1000],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), 4000],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), 5000],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), 9000],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), 10000],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), -4000],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), -5000],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), -9000],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), -10000],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), 132000],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), -137000],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), -149000],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), 141000],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), 10],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), -10],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), 40],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), 50],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), 90],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), 100],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), -40],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), -50],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), -90],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), -100],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), 1320],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), -1370],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), -1490],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), 1410],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4999, 7), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5000, 7), 1],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9999, 7), 1],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10000, 7), 1],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4999, 7), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5000, 7), 0],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9999, 7), -1],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), -1],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132345, 7), 13],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137864, 7), -14],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149847, 7), -15],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141097, 7), 14],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(499999999999, 15), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(500000000000, 15), 1],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(999999999999, 15), 1],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(1000000000000, 15), 1],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-499999999999, 15), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-500000000000, 15), 0],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999999999999, 15), -1],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000000000000, 15), -1],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(5490978142541, 15), 5],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-4378645151254, 15), -4],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-7518478585541, 15), -8],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(3710978145541, 15), 4],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), 100000000],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), -100000000],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), 400000000],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), 500000000],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), 900000000],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), 1000000000],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), -400000000],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), -500000000],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), -900000000],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), -1000000000],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), 13200000000],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), -13700000000],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), -14900000000],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), 14100000000],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), 1000000],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), -1000000],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), 4000000],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), 5000000],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), 9000000],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), 10000000],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), -4000000],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), -5000000],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), -9000000],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), -10000000],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), 132000000],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), -137000000],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), -149000000],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), 141000000],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), 10],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), -10],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999, 7), 49990],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000, 7), 50000],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999, 7), 99990],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000, 7), 100000],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999, 7), -49990],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000, 7), -50000],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999, 7), -99990],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000, 7), -100000],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132345, 7), 1323450],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137864, 7), -1378640],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149847, 7), -1498470],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141097, 7), 1410970],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999999, 15), 0],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000, 15), 1],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999999, 15), 1],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000000, 15), 1],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999999, 15), 0],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000000, 15), 0],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999999, 15), -1],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000000, 15), -1],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(54909781, 15), 5],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-43786451, 15), -4],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-75184785, 15), -8],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(37109781, 15), 4]
])
.test('assign should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.assign(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, 0],
    [Fixed.FromNormalized(0, 0), -0, 0],
    [Fixed.FromNormalized(1, 0), 1, 1],
    [Fixed.FromNormalized(-2, 0), 1.1, 1],
    [Fixed.FromNormalized(4, 0), 1.4, 1],
    [Fixed.FromNormalized(8, 0), 1.5, 2],
    [Fixed.FromNormalized(16, 0), 1.9, 2],
    [Fixed.FromNormalized(-32, 0), -0.1, 0],
    [Fixed.FromNormalized(64, 0), -0.4, 0],
    [Fixed.FromNormalized(-65, 0), -0.5, 0],
    [Fixed.FromNormalized(63, 0), -0.50000001, -1],
    [Fixed.FromNormalized(-61, 0), -0.9, -1],
    [Fixed.FromNormalized(163, 0), 231, 231],
    [Fixed.FromNormalized(-161, 0), -87, -87],
    [Fixed.FromNormalized(263, 0), -231, -231],
    [Fixed.FromNormalized(-261, 0), 87, 87],
    [Fixed.FromNormalized(363, 0), -23166.32, -23166],
    [Fixed.FromNormalized(-361, 0), 871.908, 872],
    [Fixed.FromNormalized(0, 1), 0, 0],
    [Fixed.FromNormalized(0, 1), -0, 0],
    [Fixed.FromNormalized(1, 1), 1, 10],
    [Fixed.FromNormalized(-2, 1), 1.11, 11],
    [Fixed.FromNormalized(4, 1), 1.14, 11],
    [Fixed.FromNormalized(8, 1), 1.15, 12],
    [Fixed.FromNormalized(16, 1), 1.19, 12],
    [Fixed.FromNormalized(-32, 1), -0.11, -1],
    [Fixed.FromNormalized(64, 1), -0.14, -1],
    [Fixed.FromNormalized(-65, 1), -0.15, -1],
    [Fixed.FromNormalized(63, 1), -0.150000001, -2],
    [Fixed.FromNormalized(-61, 1), -0.19, -2],
    [Fixed.FromNormalized(163, 1), 231, 2310],
    [Fixed.FromNormalized(-161, 1), -87, -870],
    [Fixed.FromNormalized(263, 1), -231, -2310],
    [Fixed.FromNormalized(-261, 1), 87, 870],
    [Fixed.FromNormalized(363, 1), -23166.32, -231663],
    [Fixed.FromNormalized(-361, 1), 871.908, 8719],
    [Fixed.FromNormalized(0, 2), 0, 0],
    [Fixed.FromNormalized(0, 2), -0, 0],
    [Fixed.FromNormalized(1, 2), 1, 100],
    [Fixed.FromNormalized(-2, 2), 1.111, 111],
    [Fixed.FromNormalized(4, 2), 1.114, 111],
    [Fixed.FromNormalized(8, 2), 1.115, 112],
    [Fixed.FromNormalized(16, 2), 1.119, 112],
    [Fixed.FromNormalized(-32, 2), -0.111, -11],
    [Fixed.FromNormalized(64, 2), -0.114, -11],
    [Fixed.FromNormalized(-65, 2), -0.115, -11],
    [Fixed.FromNormalized(63, 2), -0.115000001, -12],
    [Fixed.FromNormalized(-61, 2), -0.119, -12],
    [Fixed.FromNormalized(163, 2), 231, 23100],
    [Fixed.FromNormalized(-161, 2), -87, -8700],
    [Fixed.FromNormalized(263, 2), -231, -23100],
    [Fixed.FromNormalized(-261, 2), 87, 8700],
    [Fixed.FromNormalized(363, 2), -23166.325, -2316632],
    [Fixed.FromNormalized(-361, 2), 871.9087, 87191],
    [Fixed.FromNormalized(0, 8), 0, 0],
    [Fixed.FromNormalized(0, 8), -0, 0],
    [Fixed.FromNormalized(1, 8), 1, 100000000],
    [Fixed.FromNormalized(-2, 8), 1.111111111, 111111111],
    [Fixed.FromNormalized(4, 8), 1.111111114, 111111111],
    [Fixed.FromNormalized(8, 8), 1.111111115, 111111112],
    [Fixed.FromNormalized(16, 8), 1.111111119, 111111112],
    [Fixed.FromNormalized(-32, 8), -0.111111111, -11111111],
    [Fixed.FromNormalized(64, 8), -0.111111114, -11111111],
    [Fixed.FromNormalized(-65, 8), -0.111111115, -11111111],
    [Fixed.FromNormalized(63, 8), -0.111111115001, -11111112],
    [Fixed.FromNormalized(-61, 8), -0.111111119, -11111112],
    [Fixed.FromNormalized(163, 8), 231, 23100000000],
    [Fixed.FromNormalized(-161, 8), -87, -8700000000],
    [Fixed.FromNormalized(263, 8), -231, -23100000000],
    [Fixed.FromNormalized(-261, 8), 87, 8700000000],
    [Fixed.FromNormalized(363, 8), -23166.321254786, -2316632125479],
    [Fixed.FromNormalized(-361, 8), 871.908704756, 87190870476],
    [Fixed.FromNormalized(0, 15), 0, 0],
    [Fixed.FromNormalized(0, 15), -0, 0],
    [Fixed.FromNormalized(1, 15), 1, 1000000000000000],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, 111111111111111],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, 111111111111111],
    [Fixed.FromNormalized(8, 15), 0.1111111111111115, 111111111111112],
    [Fixed.FromNormalized(16, 15), 0.1111111111111119, 111111111111112],
    [Fixed.FromNormalized(-32, 15), -0.1111111111111111, -111111111111111],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, -111111111111111],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, -111111111111111],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, -111111111111112],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, -111111111111112],
    [Fixed.FromNormalized(163, 15), 3.5, 3500000000000000],
    [Fixed.FromNormalized(-161, 15), -8, -8000000000000000],
    [Fixed.FromNormalized(263, 15), -3.5, -3500000000000000],
    [Fixed.FromNormalized(-261, 15), 8, 8000000000000000],
    [Fixed.FromNormalized(363, 15), -6.321254786897412, -6321254786897412],
    [Fixed.FromNormalized(-361, 15), 7.908704756110478, 7908704756110478],
])
.test('assignNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.assignNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [0, 0, 0],
    [0, -0, 0],
    [1, 0.1, 0],
    [-1, -0.224, 0],
    [0, 1, 1],
    [0, -1, -1],
    [231, 132, 132],
    [-231, -132.9, -132],
    [87, -149.87, -149],
    [-87, 149.56, 149],
    [231001, 7894, 7894],
    [-231001, -7894, -7894],
    [87456, -149123456678.1, -149123456678],
    [-87456, 149123456678.7, 149123456678]
])
.test('assignNormalized should change value properly (%#): source norm. value: %f, other norm. value: %f, expected norm. value: %f',
    (sourceValue: number, otherValue: number, expectedNormValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(sourceValue, p);
                const result = fixed.assignNormalized(otherValue);
                expect(result).toBe(fixed);
                expect(result.normalizedValue).toBe(expectedNormValue);
            });
    }
);

test('negate should do nothing for zero',
    () =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(0, p);
                const result = fixed.negate();
                expect(result).toBe(fixed);
                expect(fixed.normalizedValue).toBe(0);
            }
        );
    }
);

each([
    [1],
    [-1],
    [2],
    [-2],
    [10],
    [-10],
    [123456789],
    [-123456789]
])
.test('negate should change sign for non-zero (%#): source norm. value: %f',
    (sourceValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(sourceValue, p);
                const result = fixed.negate();
                expect(result).toBe(fixed);
                expect(fixed.normalizedValue).toBe(-sourceValue);
            });
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 0), 2],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 0), -2],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 0), 9],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 0), 11],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 0), 16],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 0), 18],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 0), -9],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 0), -11],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 0), -16],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 0), -18],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 0), 363],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 0), -368],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 0), -62],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 0), 54],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 7],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 8],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 9],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), -8],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), -9],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 244],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), -245],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), 72],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), -73],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 7],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 8],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 9],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), -8],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), -9],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 244],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), -245],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), 72],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), -73],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 7],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 8],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 9],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), -8],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), -9],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 244],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), -245],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), 72],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), -73],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 7],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 8],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 9],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), -8],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), -9],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 236],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), -235],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), 79],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), -83],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 1), 2],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 1), -2],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 1), 9],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 1), 11],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 1), 16],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 1), 18],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 1), -9],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 1), -11],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 1), -16],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 1), -18],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 1), 363],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 1), -368],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 1), -62],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 1), 54],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), 11],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), -11],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), 45],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), 56],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), 97],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), 108],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), -45],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), -56],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), -97],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), -108],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), 1551],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), -1601],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), -1403],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), 1323],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 7],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 8],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 9],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), -8],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), -9],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 244],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), -245],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), 72],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), -73],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 7],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 8],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 9],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), -8],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), -9],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 244],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), -245],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), 72],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), -73],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 7],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 8],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 9],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), -8],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), -9],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 236],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), -235],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), 79],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), -83],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 3), 2],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 3), -2],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 3), 9],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 3), 11],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 3), 16],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 3), 18],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 3), -9],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 3), -11],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 3), -16],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 3), -18],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 3), 363],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 3), -368],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 3), -62],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 3), 54],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), 1001],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), -1001],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), 4005],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), 5006],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), 9007],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), 10008],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), -4005],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), -5006],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), -9007],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), -10008],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), 132231],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), -137231],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), -148913],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), 140913],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), 11],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), -11],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), 45],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), 56],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), 97],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), 108],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), -45],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), -56],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), -97],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), -108],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), 1551],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), -1601],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), -1403],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), 1323],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4999, 7), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5000, 7), 7],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9999, 7), 8],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10000, 7), 9],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4999, 7), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5000, 7), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9999, 7), -8],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), -9],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132345, 7), 244],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137864, 7), -245],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149847, 7), 72],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141097, 7), -73],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(499999999999, 15), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(500000000000, 15), 7],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(999999999999, 15), 8],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(1000000000000, 15), 9],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-499999999999, 15), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-500000000000, 15), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999999999999, 15), -8],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000000000000, 15), -9],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(5490978142541, 15), 236],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-4378645151254, 15), -235],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-7518478585541, 15), 79],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(3710978145541, 15), -83],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 8), 2],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 8), -2],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 8), 9],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 8), 11],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 8), 16],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 8), 18],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 8), -9],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 8), -11],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 8), -16],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 8), -18],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 8), 363],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 8), -368],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 8), -62],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 8), 54],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), 100000001],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), -100000001],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), 400000005],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), 500000006],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), 900000007],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), 1000000008],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), -400000005],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), -500000006],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), -900000007],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), -1000000008],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), 13200000231],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), -13700000231],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), -14899999913],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), 14099999913],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), 1000001],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), -1000001],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), 4000005],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), 5000006],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), 9000007],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), 10000008],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), -4000005],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), -5000006],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), -9000007],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), -10000008],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), 132000231],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), -137000231],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), -148999913],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), 140999913],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), 11],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), -11],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999, 7), 49995],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000, 7), 50006],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999, 7), 99997],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000, 7), 100008],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999, 7), -49995],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000, 7), -50006],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999, 7), -99997],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000, 7), -100008],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132345, 7), 1323681],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137864, 7), -1378871],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149847, 7), -1498383],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141097, 7), 1410883],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999999, 15), 5],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000, 15), 7],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999999, 15), 8],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000000, 15), 9],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999999, 15), -5],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000000, 15), -6],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999999, 15), -8],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000000, 15), -9],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(54909781, 15), 236],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-43786451, 15), -235],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-75184785, 15), 79],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(37109781, 15), -83]
])
.test('add should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.add(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, 0],
    [Fixed.FromNormalized(0, 0), -0, 0],
    [Fixed.FromNormalized(1, 0), 1, 2],
    [Fixed.FromNormalized(-2, 0), 1.1, -1],
    [Fixed.FromNormalized(4, 0), 1.4, 5],
    [Fixed.FromNormalized(8, 0), 1.5, 10],
    [Fixed.FromNormalized(16, 0), 1.9, 18],
    [Fixed.FromNormalized(-32, 0), -0.1, -32],
    [Fixed.FromNormalized(64, 0), -0.4, 64],
    [Fixed.FromNormalized(-65, 0), -0.5, -65],
    [Fixed.FromNormalized(63, 0), -0.50000001, 62],
    [Fixed.FromNormalized(-61, 0), -0.9, -62],
    [Fixed.FromNormalized(163, 0), 231, 394],
    [Fixed.FromNormalized(-161, 0), -87, -248],
    [Fixed.FromNormalized(263, 0), -231, 32],
    [Fixed.FromNormalized(-261, 0), 87, -174],
    [Fixed.FromNormalized(363, 0), -23166.32, -22803],
    [Fixed.FromNormalized(-361, 0), 871.908, 511],
    [Fixed.FromNormalized(0, 1), 0, 0],
    [Fixed.FromNormalized(0, 1), -0, 0],
    [Fixed.FromNormalized(1, 1), 1, 11],
    [Fixed.FromNormalized(-2, 1), 1.11, 9],
    [Fixed.FromNormalized(4, 1), 1.14, 15],
    [Fixed.FromNormalized(8, 1), 1.15, 20],
    [Fixed.FromNormalized(16, 1), 1.19, 28],
    [Fixed.FromNormalized(-32, 1), -0.11, -33],
    [Fixed.FromNormalized(64, 1), -0.14, 63],
    [Fixed.FromNormalized(-65, 1), -0.15, -66],
    [Fixed.FromNormalized(63, 1), -0.150000001, 61],
    [Fixed.FromNormalized(-61, 1), -0.19, -63],
    [Fixed.FromNormalized(163, 1), 231, 2473],
    [Fixed.FromNormalized(-161, 1), -87, -1031],
    [Fixed.FromNormalized(263, 1), -231, -2047],
    [Fixed.FromNormalized(-261, 1), 87, 609],
    [Fixed.FromNormalized(363, 1), -23166.32, -231300],
    [Fixed.FromNormalized(-361, 1), 871.908, 8358],
    [Fixed.FromNormalized(0, 2), 0, 0],
    [Fixed.FromNormalized(0, 2), -0, 0],
    [Fixed.FromNormalized(1, 2), 1, 101],
    [Fixed.FromNormalized(-2, 2), 1.111, 109],
    [Fixed.FromNormalized(4, 2), 1.114, 115],
    [Fixed.FromNormalized(8, 2), 1.115, 120],
    [Fixed.FromNormalized(16, 2), 1.119, 128],
    [Fixed.FromNormalized(-32, 2), -0.111, -43],
    [Fixed.FromNormalized(64, 2), -0.114, 53],
    [Fixed.FromNormalized(-65, 2), -0.115, -76],
    [Fixed.FromNormalized(63, 2), -0.115000001, 51],
    [Fixed.FromNormalized(-61, 2), -0.119, -73],
    [Fixed.FromNormalized(163, 2), 231, 23263],
    [Fixed.FromNormalized(-161, 2), -87, -8861],
    [Fixed.FromNormalized(263, 2), -231, -22837],
    [Fixed.FromNormalized(-261, 2), 87, 8439],
    [Fixed.FromNormalized(363, 2), -23166.325, -2316269],
    [Fixed.FromNormalized(-361, 2), 871.9087, 86830],
    [Fixed.FromNormalized(0, 8), 0, 0],
    [Fixed.FromNormalized(0, 8), -0, 0],
    [Fixed.FromNormalized(1, 8), 1, 100000001],
    [Fixed.FromNormalized(-2, 8), 1.111111111, 111111109],
    [Fixed.FromNormalized(4, 8), 1.111111114, 111111115],
    [Fixed.FromNormalized(8, 8), 1.111111115, 111111120],
    [Fixed.FromNormalized(16, 8), 1.111111119, 111111128],
    [Fixed.FromNormalized(-32, 8), -0.111111111, -11111143],
    [Fixed.FromNormalized(64, 8), -0.111111114, -11111047],
    [Fixed.FromNormalized(-65, 8), -0.111111115, -11111176],
    [Fixed.FromNormalized(63, 8), -0.111111115001, -11111049],
    [Fixed.FromNormalized(-61, 8), -0.111111119, -11111173],
    [Fixed.FromNormalized(163, 8), 231, 23100000163],
    [Fixed.FromNormalized(-161, 8), -87, -8700000161],
    [Fixed.FromNormalized(263, 8), -231, -23099999737],
    [Fixed.FromNormalized(-261, 8), 87, 8699999739],
    [Fixed.FromNormalized(363, 8), -23166.321254786, -2316632125116],
    [Fixed.FromNormalized(-361, 8), 871.908704756, 87190870115],
    [Fixed.FromNormalized(0, 15), 0, 0],
    [Fixed.FromNormalized(0, 15), -0, 0],
    [Fixed.FromNormalized(1, 15), 1, 1000000000000001],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, 111111111111109],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, 111111111111115],
    [Fixed.FromNormalized(8, 15), 0.1111111111111115, 111111111111120],
    [Fixed.FromNormalized(16, 15), 0.1111111111111119, 111111111111128],
    [Fixed.FromNormalized(-32, 15), -0.1111111111111111, -111111111111143],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, -111111111111047],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, -111111111111176],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, -111111111111049],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, -111111111111173],
    [Fixed.FromNormalized(163, 15), 3.5, 3500000000000163],
    [Fixed.FromNormalized(-161, 15), -8, -8000000000000161],
    [Fixed.FromNormalized(263, 15), -3.5, -3499999999999737],
    [Fixed.FromNormalized(-261, 15), 8, 7999999999999739],
    [Fixed.FromNormalized(363, 15), -6.321254786897412, -6321254786897049],
    [Fixed.FromNormalized(-361, 15), 7.908704756110478, 7908704756110117]
])
.test('addNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.addNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [0, 0, 0],
    [0, -0, 0],
    [1, 0.1, 1],
    [-1, -0.224, -1],
    [0, 1, 1],
    [0, -1, -1],
    [231, 132, 363],
    [-231, -132.9, -363],
    [87, -149.87, -62],
    [-87, 149.56, 62],
    [231001, 7894, 238895],
    [-231001, -7894, -238895],
    [87456, -149123456678.1, -149123369222],
    [-87456, 149123456678.7, 149123369222]
])
.test('addNormalized should return correct result (%#): source norm. value: %f, other norm. value: %f, expected norm. value: %f',
    (sourceValue: number, otherValue: number, expectedNormValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(sourceValue, p);
                const result = fixed.addNormalized(otherValue);
                expect(result).toBe(fixed);
                expect(result.normalizedValue).toBe(expectedNormValue);
            });
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 0), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 0), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 0), -2],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 0), -2],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 0), -1],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 0), -1],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 0), 2],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 0), 2],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 0), 99],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 0), -94],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 0), 236],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 0), -228],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 5],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 6],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 7],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), -6],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), -7],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 218],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), -217],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), 102],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), -101],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 5],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 6],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 7],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), -6],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), -7],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 218],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), -217],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), 102],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), -101],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 5],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 6],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 7],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), -6],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), -7],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 218],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), -217],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), 102],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), -101],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 5],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 5],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 6],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 7],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), -5],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), -6],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), -6],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), -7],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 226],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), -227],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), 95],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), -91],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 1), 1],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 1), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 1), -2],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 1), -2],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 1), -1],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 1), -1],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 1), 2],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 1), 2],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 1), 99],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 1), -94],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 1), 236],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 1), -228],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), -9],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), 9],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), -35],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), -44],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), -83],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), -92],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), 35],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), 44],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), 83],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), 92],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), -1089],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), 1139],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), 1577],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), -1497],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 5],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 6],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 7],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), -6],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), -7],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 218],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), -217],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), 102],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), -101],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 5],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 6],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 7],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), -6],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), -7],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 218],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), -217],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), 102],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), -101],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 5],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 6],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 7],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), -6],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), -7],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 226],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), -227],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), 95],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), -91],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 3), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 3), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 3), 1],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 3), 1],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 3), -2],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 3), -2],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 3), -1],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 3), -1],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 3), 2],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 3), 2],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 3), 99],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 3), -94],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 3), 236],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 3), -228],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), -999],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), 999],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), -3995],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), -4994],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), -8993],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), -9992],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), 3995],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), 4994],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), 8993],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), 9992],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), -131769],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), 136769],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), 149087],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), -141087],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), -9],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), 9],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), -35],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), -44],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), -83],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), -92],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), 35],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), 44],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), 83],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), 92],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), -1089],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), 1139],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), 1577],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), -1497],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4999, 7), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5000, 7), 5],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9999, 7), 6],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10000, 7), 7],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4999, 7), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5000, 7), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9999, 7), -6],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), -7],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132345, 7), 218],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137864, 7), -217],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149847, 7), 102],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141097, 7), -101],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(499999999999, 15), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(500000000000, 15), 5],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(999999999999, 15), 6],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(1000000000000, 15), 7],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-499999999999, 15), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-500000000000, 15), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999999999999, 15), -6],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000000000000, 15), -7],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(5490978142541, 15), 226],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-4378645151254, 15), -227],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-7518478585541, 15), 95],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(3710978145541, 15), -91],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 8), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 8), 0],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 8), 1],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 8), 1],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 8), -2],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 8), -2],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 8), -1],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 8), -1],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 8), 2],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 8), 2],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 8), 99],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 8), -94],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 8), 236],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 8), -228],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), -99999999],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), 99999999],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), -399999995],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), -499999994],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), -899999993],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), -999999992],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), 399999995],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), 499999994],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), 899999993],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), 999999992],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), -13199999769],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), 13699999769],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), 14900000087],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), -14100000087],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), -999999],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), 999999],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), -3999995],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), -4999994],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), -8999993],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), -9999992],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), 3999995],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), 4999994],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), 8999993],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), 9999992],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), -131999769],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), 136999769],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), 149000087],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), -141000087],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), -9],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), 9],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999, 7), -49985],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000, 7), -49994],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999, 7), -99983],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000, 7), -99992],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999, 7), 49985],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000, 7), 49994],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999, 7), 99983],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000, 7), 99992],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132345, 7), -1323219],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137864, 7), 1378409],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149847, 7), 1498557],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141097, 7), -1411057],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 15), -1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4999999, 15), 5],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000, 15), 5],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9999999, 15), 6],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10000000, 15), 7],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4999999, 15), -5],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5000000, 15), -6],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9999999, 15), -6],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10000000, 15), -7],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(54909781, 15), 226],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-43786451, 15), -227],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-75184785, 15), 95],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(37109781, 15), -91]

])
.test('subtract should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.subtract(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, 0],
    [Fixed.FromNormalized(0, 0), -0, 0],
    [Fixed.FromNormalized(1, 0), 1, 0],
    [Fixed.FromNormalized(-2, 0), 1.1, -3],
    [Fixed.FromNormalized(4, 0), 1.4, 3],
    [Fixed.FromNormalized(8, 0), 1.5, 6],
    [Fixed.FromNormalized(16, 0), 1.9, 14],
    [Fixed.FromNormalized(-32, 0), -0.1, -32],
    [Fixed.FromNormalized(64, 0), -0.4, 64],
    [Fixed.FromNormalized(-65, 0), -0.5, -65],
    [Fixed.FromNormalized(63, 0), -0.50000001, 64],
    [Fixed.FromNormalized(-61, 0), -0.9, -60],
    [Fixed.FromNormalized(163, 0), 231, -68],
    [Fixed.FromNormalized(-161, 0), -87, -74],
    [Fixed.FromNormalized(263, 0), -231, 494],
    [Fixed.FromNormalized(-261, 0), 87, -348],
    [Fixed.FromNormalized(363, 0), -23166.32, 23529],
    [Fixed.FromNormalized(-361, 0), 871.908, -1233],
    [Fixed.FromNormalized(0, 1), 0, 0],
    [Fixed.FromNormalized(0, 1), -0, 0],
    [Fixed.FromNormalized(1, 1), 1, -9],
    [Fixed.FromNormalized(-2, 1), 1.11, -13],
    [Fixed.FromNormalized(4, 1), 1.14, -7],
    [Fixed.FromNormalized(8, 1), 1.15, -4],
    [Fixed.FromNormalized(16, 1), 1.19, 4],
    [Fixed.FromNormalized(-32, 1), -0.11, -31],
    [Fixed.FromNormalized(64, 1), -0.14, 65],
    [Fixed.FromNormalized(-65, 1), -0.15, -64],
    [Fixed.FromNormalized(63, 1), -0.150000001, 65],
    [Fixed.FromNormalized(-61, 1), -0.19, -59],
    [Fixed.FromNormalized(163, 1), 231, -2147],
    [Fixed.FromNormalized(-161, 1), -87, 709],
    [Fixed.FromNormalized(263, 1), -231, 2573],
    [Fixed.FromNormalized(-261, 1), 87, -1131],
    [Fixed.FromNormalized(363, 1), -23166.32, 232026],
    [Fixed.FromNormalized(-361, 1), 871.908, -9080],
    [Fixed.FromNormalized(0, 2), 0, 0],
    [Fixed.FromNormalized(0, 2), -0, 0],
    [Fixed.FromNormalized(1, 2), 1, -99],
    [Fixed.FromNormalized(-2, 2), 1.111, -113],
    [Fixed.FromNormalized(4, 2), 1.114, -107],
    [Fixed.FromNormalized(8, 2), 1.115, -104],
    [Fixed.FromNormalized(16, 2), 1.119, -96],
    [Fixed.FromNormalized(-32, 2), -0.111, -21],
    [Fixed.FromNormalized(64, 2), -0.114, 75],
    [Fixed.FromNormalized(-65, 2), -0.115, -54],
    [Fixed.FromNormalized(63, 2), -0.115000001, 75],
    [Fixed.FromNormalized(-61, 2), -0.119, -49],
    [Fixed.FromNormalized(163, 2), 231, -22937],
    [Fixed.FromNormalized(-161, 2), -87, 8539],
    [Fixed.FromNormalized(263, 2), -231, 23363],
    [Fixed.FromNormalized(-261, 2), 87, -8961],
    [Fixed.FromNormalized(363, 2), -23166.325, 2316995],
    [Fixed.FromNormalized(-361, 2), 871.9087, -87552],
    [Fixed.FromNormalized(0, 8), 0, 0],
    [Fixed.FromNormalized(0, 8), -0, 0],
    [Fixed.FromNormalized(1, 8), 1, -99999999],
    [Fixed.FromNormalized(-2, 8), 1.111111111, -111111113],
    [Fixed.FromNormalized(4, 8), 1.111111114, -111111107],
    [Fixed.FromNormalized(8, 8), 1.111111115, -111111104],
    [Fixed.FromNormalized(16, 8), 1.111111119, -111111096],
    [Fixed.FromNormalized(-32, 8), -0.111111111, 11111079],
    [Fixed.FromNormalized(64, 8), -0.111111114, 11111175],
    [Fixed.FromNormalized(-65, 8), -0.111111115, 11111046],
    [Fixed.FromNormalized(63, 8), -0.111111115001, 11111175],
    [Fixed.FromNormalized(-61, 8), -0.111111119, 11111051],
    [Fixed.FromNormalized(163, 8), 231, -23099999837],
    [Fixed.FromNormalized(-161, 8), -87, 8699999839],
    [Fixed.FromNormalized(263, 8), -231, 23100000263],
    [Fixed.FromNormalized(-261, 8), 87, -8700000261],
    [Fixed.FromNormalized(363, 8), -23166.321254786, 2316632125842],
    [Fixed.FromNormalized(-361, 8), 871.908704756, -87190870837],
    [Fixed.FromNormalized(0, 15), 0, 0],
    [Fixed.FromNormalized(0, 15), -0, 0],
    [Fixed.FromNormalized(1, 15), 1, -999999999999999],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, -111111111111113],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, -111111111111107],
    [Fixed.FromNormalized(8, 15), 0.1111111111111115, -111111111111104],
    [Fixed.FromNormalized(16, 15), 0.1111111111111119, -111111111111096],
    [Fixed.FromNormalized(-32, 15), -0.1111111111111111, 111111111111079],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, 111111111111175],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, 111111111111046],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, 111111111111175],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, 111111111111051],
    [Fixed.FromNormalized(163, 15), 3.5, -3499999999999837],
    [Fixed.FromNormalized(-161, 15), -8, 7999999999999839],
    [Fixed.FromNormalized(263, 15), -3.5, 3500000000000263],
    [Fixed.FromNormalized(-261, 15), 8, -8000000000000261],
    [Fixed.FromNormalized(363, 15), -6.321254786897412, 6321254786897775],
    [Fixed.FromNormalized(-361, 15), 7.908704756110478, -7908704756110839]
])
.test('subtractNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.subtractNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [0, 0, 0],
    [0, -0, 0],
    [1, 0.1, 1],
    [-1, -0.224, -1],
    [0, 1, -1],
    [0, -1, 1],
    [231, 132, 99],
    [-231, -132.9, -99],
    [87, -149.87, 236],
    [-87, 149.56, -236],
    [231001, 7894, 223107],
    [-231001, -7894, -223107],
    [87456, -149123456678.1, 149123544134],
    [-87456, 149123456678.7, -149123544134]
])
.test('subtractNormalized should return correct result (%#): source norm. value: %f, other norm. value: %f, expected norm. value: %f',
    (sourceValue: number, otherValue: number, expectedNormValue: number) =>
    {
        forAllPrecisions(p =>
            {
                const fixed = Fixed.FromNormalized(sourceValue, p);
                const result = fixed.subtractNormalized(otherValue);
                expect(result).toBe(fixed);
                expect(result.normalizedValue).toBe(expectedNormValue);
            });
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 0), 20],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 0), 30],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 0), 63],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 0), 80],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 0), 20],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 0), 30],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 0), 63],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 0), 80],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 0), 30492],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 0), 31647],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 0), -12963],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 0), -12267],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 2],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 3],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 6],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), 2],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), 3],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), 6],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 3049],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), 3165],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), -1296],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), -1227],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 2],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 3],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), 2],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), 3],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 3056],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), 3183],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), -1303],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), -1227],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 2],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 3],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), 2],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), 3],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 3057],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), 3185],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), -1304],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), -1228],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 2],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 3],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), 2],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), 3],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 1268],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), 1011],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), -654],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), -323],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 1), 2],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 1), 3],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 1), 6],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 1), 8],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 1), 2],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 1), 3],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 1), 6],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 1), 8],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 1), 3049],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 1), 3165],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 1), -1296],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 1), -1227],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), 20],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), 30],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), 63],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), 80],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), 20],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), 30],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), 63],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), 80],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), 30492],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), 31647],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), -12963],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), -12267],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), 1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), 1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 305],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), 316],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), -130],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), -123],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), 1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), 1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 306],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), 318],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), -130],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), -123],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), 1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), 1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 127],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), 101],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), -65],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), -32],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 3), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 3), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(444, 3), 2],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(555, 3), 3],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(999, 3), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(1000, 3), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-444, 3), 2],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-555, 3), 3],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999, 3), 7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000, 3), 8],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 3), 30],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 3), 32],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 3), -13],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 3), -12],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), 20],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), 30],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), 63],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), 80],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), 20],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), 30],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), 63],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), 80],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), 30492],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), 31647],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), -12963],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), -12267],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), 0],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), 1],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), 1],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), 0],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), 1],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), 1],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), 305],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), 316],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), -130],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), -123],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999, 7), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000, 7), 0],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999, 7), 0],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000, 7), 0],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999, 7), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000, 7), 0],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999, 7), 0],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), 0],
    [Fixed.FromNormalized(23141, 3), Fixed.FromNormalized(132345, 7), 306],
    [Fixed.FromNormalized(-23141, 3), Fixed.FromNormalized(-137864, 7), 319],
    [Fixed.FromNormalized(8741, 3), Fixed.FromNormalized(-149847, 7), -131],
    [Fixed.FromNormalized(-8741, 3), Fixed.FromNormalized(141097, 7), -123],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999999999999, 15), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000000000000, 15), 0],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999999999999, 15), 1],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000000000000, 15), 1],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999999999999, 15), 1],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-100000000000000, 15), 1],
    [Fixed.FromNormalized(23145, 3), Fixed.FromNormalized(5490978142541, 15), 127],
    [Fixed.FromNormalized(-23145, 3), Fixed.FromNormalized(-4378645151254, 15), 101],
    [Fixed.FromNormalized(8745, 3), Fixed.FromNormalized(-7518478585541, 15), -66],
    [Fixed.FromNormalized(-8745, 3), Fixed.FromNormalized(3710978145541, 15), -32],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 8), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 8), 0],
    [Fixed.FromNormalized(555, 8), Fixed.FromNormalized(4444444, 8), 25],
    [Fixed.FromNormalized(666, 8), Fixed.FromNormalized(5555555, 8), 37],
    [Fixed.FromNormalized(777, 8), Fixed.FromNormalized(9999999, 8), 78],
    [Fixed.FromNormalized(888, 8), Fixed.FromNormalized(100000000, 8), 888],
    [Fixed.FromNormalized(-555, 8), Fixed.FromNormalized(-4444444, 8), 25],
    [Fixed.FromNormalized(-666, 8), Fixed.FromNormalized(-5555555, 8), 37],
    [Fixed.FromNormalized(-777, 8), Fixed.FromNormalized(-9999999, 8), 78],
    [Fixed.FromNormalized(-888, 8), Fixed.FromNormalized(-100000000, 8), 888],
    [Fixed.FromNormalized(231001, 8), Fixed.FromNormalized(13256716, 8), 30623],
    [Fixed.FromNormalized(-231001, 8), Fixed.FromNormalized(-13756716, 8), 31778],
    [Fixed.FromNormalized(87001, 8), Fixed.FromNormalized(-14945215479, 8), -13002487],
    [Fixed.FromNormalized(-87001, 8), Fixed.FromNormalized(14945215479, 8), -13002487],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), 20],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), 30],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), 63],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), 80],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), 20],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), 30],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), 63],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), 80],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), 30492],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), 31647],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), -12963],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), -12267],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), 0],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), 0],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), 1],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), 1],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), 0],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), 0],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), 1],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), 1],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), 305],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), 316],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), -130],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), -123],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(49999, 7), 0],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(500000, 7), 0],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(999999, 7), 1],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(1000000, 7), 1],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-499999, 7), 0],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-500000, 7), 0],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-999999, 7), 1],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-1000000, 7), 1],
    [Fixed.FromNormalized(23121, 8), Fixed.FromNormalized(132345, 7), 306],
    [Fixed.FromNormalized(-23121, 8), Fixed.FromNormalized(-137864, 7), 319],
    [Fixed.FromNormalized(8777, 8), Fixed.FromNormalized(-149847, 7), -132],
    [Fixed.FromNormalized(-8777, 8), Fixed.FromNormalized(141097, 7), -124],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-15, 8), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(499999999, 15), 0],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000000, 15), 0],
    [Fixed.FromNormalized(74, 8), Fixed.FromNormalized(9999999999, 15), 0],
    [Fixed.FromNormalized(889, 8), Fixed.FromNormalized(10000000000, 15), 0],
    [Fixed.FromNormalized(-50, 8), Fixed.FromNormalized(-4999999999, 15), 0],
    [Fixed.FromNormalized(-601, 8), Fixed.FromNormalized(-5000000000, 15), 0],
    [Fixed.FromNormalized(-7221, 8), Fixed.FromNormalized(-9999999999, 15), 0],
    [Fixed.FromNormalized(-878, 8), Fixed.FromNormalized(-10000000000, 15), 0],
    [Fixed.FromNormalized(231580, 8), Fixed.FromNormalized(54909789781, 15), 13],
    [Fixed.FromNormalized(-231005, 8), Fixed.FromNormalized(-43712586451, 15), 10],
    [Fixed.FromNormalized(87571, 8), Fixed.FromNormalized(-75184154785, 15), -7],
    [Fixed.FromNormalized(-87448, 8), Fixed.FromNormalized(37101249781, 15), -3]
])
.test('multiply should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.multiply(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, 0],
    [Fixed.FromNormalized(0, 0), -0, 0],
    [Fixed.FromNormalized(1, 0), 1, 1],
    [Fixed.FromNormalized(-2, 0), 1.1, -2],
    [Fixed.FromNormalized(4, 0), 1.4, 6],
    [Fixed.FromNormalized(8, 0), 1.5, 12],
    [Fixed.FromNormalized(16, 0), 1.9, 30],
    [Fixed.FromNormalized(-32, 0), -0.1, 3],
    [Fixed.FromNormalized(64, 0), -0.4, -26],
    [Fixed.FromNormalized(-65, 0), -0.5, 33],
    [Fixed.FromNormalized(63, 0), -0.50000001, -32],
    [Fixed.FromNormalized(-61, 0), -0.9, 55],
    [Fixed.FromNormalized(163, 0), 231, 37653],
    [Fixed.FromNormalized(-161, 0), -87, 14007],
    [Fixed.FromNormalized(263, 0), -231, -60753],
    [Fixed.FromNormalized(-261, 0), 87, -22707],
    [Fixed.FromNormalized(363, 0), -23166.32, -8409374],
    [Fixed.FromNormalized(-361, 0), 871.908, -314759],
    [Fixed.FromNormalized(0, 1), 0, 0],
    [Fixed.FromNormalized(0, 1), -0, 0],
    [Fixed.FromNormalized(1, 1), 1, 1],
    [Fixed.FromNormalized(-2, 1), 1.11, -2],
    [Fixed.FromNormalized(4, 1), 1.14, 5],
    [Fixed.FromNormalized(8, 1), 1.15, 9],
    [Fixed.FromNormalized(16, 1), 1.19, 19],
    [Fixed.FromNormalized(-32, 1), -0.11, 4],
    [Fixed.FromNormalized(64, 1), -0.14, -9],
    [Fixed.FromNormalized(-65, 1), -0.15, 10],
    [Fixed.FromNormalized(63, 1), -0.150000001, -9],
    [Fixed.FromNormalized(-61, 1), -0.19, 12],
    [Fixed.FromNormalized(163, 1), 231, 37653],
    [Fixed.FromNormalized(-161, 1), -87, 14007],
    [Fixed.FromNormalized(263, 1), -231, -60753],
    [Fixed.FromNormalized(-261, 1), 87, -22707],
    [Fixed.FromNormalized(363, 1), -23166.32, -8409374],
    [Fixed.FromNormalized(-361, 1), 871.908, -314759],
    [Fixed.FromNormalized(0, 2), 0, 0],
    [Fixed.FromNormalized(0, 2), -0, 0],
    [Fixed.FromNormalized(1, 2), 1, 1],
    [Fixed.FromNormalized(-2, 2), 1.111, -2],
    [Fixed.FromNormalized(4, 2), 1.114, 4],
    [Fixed.FromNormalized(8, 2), 1.115, 9],
    [Fixed.FromNormalized(16, 2), 1.119, 18],
    [Fixed.FromNormalized(-32, 2), -0.111, 4],
    [Fixed.FromNormalized(64, 2), -0.114, -7],
    [Fixed.FromNormalized(-65, 2), -0.115, 7],
    [Fixed.FromNormalized(63, 2), -0.115000001, -7],
    [Fixed.FromNormalized(-61, 2), -0.119, 7],
    [Fixed.FromNormalized(163, 2), 231, 37653],
    [Fixed.FromNormalized(-161, 2), -87, 14007],
    [Fixed.FromNormalized(263, 2), -231, -60753],
    [Fixed.FromNormalized(-261, 2), 87, -22707],
    [Fixed.FromNormalized(363, 2), -23166.325, -8409376],
    [Fixed.FromNormalized(-361, 2), 871.9087, -314759],
    [Fixed.FromNormalized(0, 8), 0, 0],
    [Fixed.FromNormalized(0, 8), -0, 0],
    [Fixed.FromNormalized(1, 8), 1, 1],
    [Fixed.FromNormalized(-2, 8), 1.111111111, -2],
    [Fixed.FromNormalized(4, 8), 1.111111114, 4],
    [Fixed.FromNormalized(8, 8), 1.111111115, 9],
    [Fixed.FromNormalized(16, 8), 1.111111119, 18],
    [Fixed.FromNormalized(-32, 8), -0.111111111, 4],
    [Fixed.FromNormalized(64, 8), -0.111111114, -7],
    [Fixed.FromNormalized(-65, 8), -0.111111115, 7],
    [Fixed.FromNormalized(63, 8), -0.111111115001, -7],
    [Fixed.FromNormalized(-61, 8), -0.111111119, 7],
    [Fixed.FromNormalized(1653, 8), 231, 381843],
    [Fixed.FromNormalized(-1601, 8), -87, 139287],
    [Fixed.FromNormalized(26103, 8), -231, -6029793],
    [Fixed.FromNormalized(-26331, 8), 87, -2290797],
    [Fixed.FromNormalized(36253, 8), -23166.321254786, -839848644],
    [Fixed.FromNormalized(-36251, 8), 871.908704756, -31607562],
    [Fixed.FromNormalized(0, 15), 0, 0],
    [Fixed.FromNormalized(0, 15), -0, 0],
    [Fixed.FromNormalized(1, 15), 1, 1],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, 0],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, 0],
    [Fixed.FromNormalized(8, 15), 0.1111111111111115, 1],
    [Fixed.FromNormalized(16, 15), 0.1111111111111119, 2],
    [Fixed.FromNormalized(-32, 15), -0.1111111111111111, 4],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, -7],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, 7],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, -7],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, 7],
    [Fixed.FromNormalized(16887123, 15), 3.5, 59104931],
    [Fixed.FromNormalized(-161101, 15), -8, 1288808],
    [Fixed.FromNormalized(26666123, 15), -3.5, -93331430],
    [Fixed.FromNormalized(-261884, 15), 8, -2095072],
    [Fixed.FromNormalized(363453, 15), -6.321254786897412, -2297479],
    [Fixed.FromNormalized(-361251, 15), 7.908704756110478, -2857028]
])
.test('multiplyByNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.multiplyByNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, 0],
    [Fixed.FromNormalized(0, 0), -0, 0],
    [Fixed.FromNormalized(1, 0), 0.1, 0],
    [Fixed.FromNormalized(-1, 0), -0.224, 0],
    [Fixed.FromNormalized(0, 0), 1, 0],
    [Fixed.FromNormalized(0, 0), -1, 0],
    [Fixed.FromNormalized(231, 0), 132, 30492],
    [Fixed.FromNormalized(-231, 0), -132.9, 30492],
    [Fixed.FromNormalized(87, 0), -149.87, -12963],
    [Fixed.FromNormalized(-87, 0), 149.56, -12963],
    [Fixed.FromNormalized(231001, 0), 7894, 1823521894],
    [Fixed.FromNormalized(-231001, 0), -7894, 1823521894],
    [Fixed.FromNormalized(87456, 0), -1491234568.1, -130417410379008],
    [Fixed.FromNormalized(-87456, 0), 1491234568.7, -130417410379008],
    [Fixed.FromNormalized(0, 1), 0, 0],
    [Fixed.FromNormalized(0, 1), -0, 0],
    [Fixed.FromNormalized(1, 1), 0.1, 0],
    [Fixed.FromNormalized(-1, 1), -0.224, 0],
    [Fixed.FromNormalized(0, 1), 1, 0],
    [Fixed.FromNormalized(0, 1), -1, 0],
    [Fixed.FromNormalized(231, 1), 132, 3049],
    [Fixed.FromNormalized(-231, 1), -132.9, 3049],
    [Fixed.FromNormalized(87, 1), -149.87, -1296],
    [Fixed.FromNormalized(-87, 1), 149.56, -1296],
    [Fixed.FromNormalized(231001, 1), 7894, 182352189],
    [Fixed.FromNormalized(-231001, 1), -7894, 182352189],
    [Fixed.FromNormalized(87456, 1), -1491234568.1, -13041741037901],
    [Fixed.FromNormalized(-87456, 1), 1491234568.7, -13041741037901],
    [Fixed.FromNormalized(0, 3), 0, 0],
    [Fixed.FromNormalized(0, 3), -0, 0],
    [Fixed.FromNormalized(1, 3), 0.1, 0],
    [Fixed.FromNormalized(-1, 3), -0.224, 0],
    [Fixed.FromNormalized(0, 3), 1, 0],
    [Fixed.FromNormalized(0, 3), -1, 0],
    [Fixed.FromNormalized(231, 3), 132, 30],
    [Fixed.FromNormalized(-231, 3), -132.9, 30],
    [Fixed.FromNormalized(87, 3), -149.87, -13],
    [Fixed.FromNormalized(-87, 3), 149.56, -13],
    [Fixed.FromNormalized(231001, 3), 7894, 1823522],
    [Fixed.FromNormalized(-231001, 3), -7894, 1823522],
    [Fixed.FromNormalized(87456, 3), -1491234568.1, -130417410379],
    [Fixed.FromNormalized(-87456, 3), 1491234568.7, -130417410379],
    [Fixed.FromNormalized(0, 8), 0, 0],
    [Fixed.FromNormalized(0, 8), -0, 0],
    [Fixed.FromNormalized(1, 8), 0.1, 0],
    [Fixed.FromNormalized(-1, 8), -0.224, 0],
    [Fixed.FromNormalized(0, 8), 1, 0],
    [Fixed.FromNormalized(0, 8), -1, 0],
    [Fixed.FromNormalized(231, 8), 13241265, 31],
    [Fixed.FromNormalized(-231, 8), -13241265.9, 31],
    [Fixed.FromNormalized(87, 8), -14998741.87, -13],
    [Fixed.FromNormalized(-87, 8), 14998741.56, -13],
    [Fixed.FromNormalized(231001, 8), 789424, 1824],
    [Fixed.FromNormalized(-231001, 8), -789424, 1824],
    [Fixed.FromNormalized(87456, 8), -1491234568.1, -1304174],
    [Fixed.FromNormalized(-87456, 8), 1491234568.7, -1304174],
    [Fixed.FromNormalized(0, 15), 0, 0],
    [Fixed.FromNormalized(0, 15), -0, 0],
    [Fixed.FromNormalized(1, 15), 0.1, 0],
    [Fixed.FromNormalized(-1, 15), -0.224, 0],
    [Fixed.FromNormalized(0, 15), 1, 0],
    [Fixed.FromNormalized(0, 15), -1, 0],
    [Fixed.FromNormalized(231, 15), 132412656412574, 31],
    [Fixed.FromNormalized(-231, 15), -132412656412574.9, 31],
    [Fixed.FromNormalized(87, 15), -149987416412574.9, -13],
    [Fixed.FromNormalized(-87, 15), 149987416412574.6, -13],
    [Fixed.FromNormalized(231001, 15), 78942443756, 18],
    [Fixed.FromNormalized(-231001, 15), -78942443756, 18],
    [Fixed.FromNormalized(87456, 15), -14912345688791.1, -1304],
    [Fixed.FromNormalized(-87456, 15), 14912345688791.7, -1304]
])
.test('multiplyByNormalized should return correct result (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, otherValue: number, expectedNormValue: number) =>
    {
        const result = source.multiplyByNormalized(otherValue);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(14, 0), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(17, 0), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 0), 1],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 0), 1],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 0), 1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 0), 1],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 0), 2],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 0), 2],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 0), -1],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 0), -1],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 10],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), 10],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 13],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 12],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 8],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), 13],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), 12],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), 8],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 18],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), 17],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), -6],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), -6],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 100],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), 100],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 10],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 12],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), 10],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), 12],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 17],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), 17],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), -6],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), -6],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 10000000],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), 10000000],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 10],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 12],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), 10],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), 12],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 17],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), 17],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), -6],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), -6],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 1000000000000000],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), 1000000000000000],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 10],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 12],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), 10],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), 12],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), 7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), 8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 42],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), 53],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), -12],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), -23],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 1), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 1), 10],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 1), 10],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 1), 13],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 1), 12],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(14, 1), 5],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(17, 1), 5],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 1), 13],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 1), 12],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 1), 8],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 1), 8],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 1), 18],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 1), 17],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 1), -6],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 1), -6],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), 1],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), 1],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), 1],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), 1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), 1],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), 2],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), 2],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), -1],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), -1],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 100],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), 100],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 125],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 120],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 78],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 80],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), 125],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), 120],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), 78],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), 80],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 175],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), 169],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), -58],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), -62],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 10000000],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), 10000000],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 100],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 120],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 70],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 80],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), 100],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), 120],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), 70],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), 80],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 175],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), 168],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), -58],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), -62],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 1000000000000000],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), 1000000000000000],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 100],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 120],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 70],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 80],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), 100],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), 120],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), 70],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), 80],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 421],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), 528],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), -116],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), -234],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 3), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 3), 1000],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 3), 1000],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(444, 3), 11],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(555, 3), 11],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(14, 3), 500],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(17, 3), 471],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-444, 3), 11],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-555, 3), 11],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999, 3), 7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000, 3), 8],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 3), 1750],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 3), 1686],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 3), -584],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 3), -617],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), 1],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), 1],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), 1],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), 1],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), 1],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), 1],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), 2],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), 2],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), -1],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), -1],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), 100],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), 100],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), 125],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), 120],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), 78],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), 80],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), 125],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), 120],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), 78],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), 80],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), 175],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), 169],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), -58],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), -62],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 10000000],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), 10000000],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999, 7), 110022],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000, 7), 1200],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999, 7), 700],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000, 7), 800],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999, 7), 1000],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000, 7), 1200],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999, 7), 700],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), 8000],
    [Fixed.FromNormalized(23141, 3), Fixed.FromNormalized(132345, 7), 1748536],
    [Fixed.FromNormalized(-23141, 3), Fixed.FromNormalized(-137864, 7), 1678538],
    [Fixed.FromNormalized(8741, 3), Fixed.FromNormalized(-149847, 7), -583328],
    [Fixed.FromNormalized(-8741, 3), Fixed.FromNormalized(141097, 7), -619503],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 1000000000000000],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), 1000000000000000],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999999999999, 15), 11000],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000000000000, 15), 120],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999999999999, 15), 70],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000000000000, 15), 80],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999999999999, 15), 100],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000000000000, 15), 120],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999999999999, 15), 70],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-100000000000000, 15), 80],
    [Fixed.FromNormalized(23145, 3), Fixed.FromNormalized(5490978142541, 15), 4215096],
    [Fixed.FromNormalized(-23145, 3), Fixed.FromNormalized(-4378645151254, 15), 5285882],
    [Fixed.FromNormalized(8745, 3), Fixed.FromNormalized(-7518478585541, 15), -1163134],
    [Fixed.FromNormalized(-8745, 3), Fixed.FromNormalized(3710978145541, 15), -2356522],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 8), 100000000],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 8), 100000000],
    [Fixed.FromNormalized(555, 8), Fixed.FromNormalized(4444444, 8), 12488],
    [Fixed.FromNormalized(666, 8), Fixed.FromNormalized(5555555, 8), 11988],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(14, 8), 50000000],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(17, 8), 47058824],
    [Fixed.FromNormalized(-555, 8), Fixed.FromNormalized(-4444444, 8), 12488],
    [Fixed.FromNormalized(-666, 8), Fixed.FromNormalized(-5555555, 8), 11988],
    [Fixed.FromNormalized(-777, 8), Fixed.FromNormalized(-9999999, 8), 7770],
    [Fixed.FromNormalized(-888, 8), Fixed.FromNormalized(-100000000, 8), 888],
    [Fixed.FromNormalized(231001, 8), Fixed.FromNormalized(13256716, 8), 1742521],
    [Fixed.FromNormalized(-231001, 8), Fixed.FromNormalized(-13756716, 8), 1679187],
    [Fixed.FromNormalized(87001, 8), Fixed.FromNormalized(-14945215479, 8), -582],
    [Fixed.FromNormalized(-87001, 8), Fixed.FromNormalized(14945215479, 8), -582],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), 1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), 1],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), 1],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), 1],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), 1],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), 1],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), 1],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), 2],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), 2],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), -1],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), 100],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), 100],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), 125],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), 120],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), 78],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), 80],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), 125],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), 120],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), 78],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), 80],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), 175],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), 169],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), -58],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), -62],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), 10000000],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), 10000000],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(49999, 7), 11000],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(500000, 7), 120],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(999999, 7), 70],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(1000000, 7), 80],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-499999, 7), 100],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-500000, 7), 120],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-999999, 7), 70],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-1000000, 7), 80],
    [Fixed.FromNormalized(23121, 8), Fixed.FromNormalized(132345, 7), 1747025],
    [Fixed.FromNormalized(-23121, 8), Fixed.FromNormalized(-137864, 7), 1677088],
    [Fixed.FromNormalized(8777, 8), Fixed.FromNormalized(-149847, 7), -585731],
    [Fixed.FromNormalized(-8777, 8), Fixed.FromNormalized(141097, 7), -622054],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 1000000000000000],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 15), 9000000000000000],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(499999999, 15), 110000000],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000000, 15), 1200000],
    [Fixed.FromNormalized(74, 8), Fixed.FromNormalized(9999999999, 15), 7400000],
    [Fixed.FromNormalized(889, 8), Fixed.FromNormalized(10000000000, 15), 88900000],
    [Fixed.FromNormalized(-50, 8), Fixed.FromNormalized(-4999999999, 15), 10000000],
    [Fixed.FromNormalized(-601, 8), Fixed.FromNormalized(-5000000000, 15), 120200000],
    [Fixed.FromNormalized(-7221, 8), Fixed.FromNormalized(-9999999999, 15), 722100000],
    [Fixed.FromNormalized(-878, 8), Fixed.FromNormalized(-10000000000, 15), 87800000],
    [Fixed.FromNormalized(231580, 8), Fixed.FromNormalized(54909789781, 15), 4217462877],
    [Fixed.FromNormalized(-231005, 8), Fixed.FromNormalized(-43712586451, 15), 5284633529],
    [Fixed.FromNormalized(87571, 8), Fixed.FromNormalized(-75184154785, 15), -1164753401],
    [Fixed.FromNormalized(-87448, 8), Fixed.FromNormalized(37101249781, 15), -2357009549]
])
.test('divide should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.divide(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, NaN],
    [Fixed.FromNormalized(0, 0), -0, NaN],
    [Fixed.FromNormalized(1, 0), 1, 1],
    [Fixed.FromNormalized(-2, 0), 1.1, -2],
    [Fixed.FromNormalized(4, 0), 8, 1],
    [Fixed.FromNormalized(8, 0), 16.01, 0],
    [Fixed.FromNormalized(16, 0), 1.9, 8],
    [Fixed.FromNormalized(-32, 0), -0.1, 320],
    [Fixed.FromNormalized(64, 0), -0.4, -160],
    [Fixed.FromNormalized(-65, 0), -0.5, 130],
    [Fixed.FromNormalized(63, 0), -0.50000001, -126],
    [Fixed.FromNormalized(-61, 0), -0.9, 68],
    [Fixed.FromNormalized(163, 0), 231, 1],
    [Fixed.FromNormalized(-161, 0), -87, 2],
    [Fixed.FromNormalized(263, 0), -231, -1],
    [Fixed.FromNormalized(-261, 0), 87, -3],
    [Fixed.FromNormalized(363, 0), -23166.32, 0],
    [Fixed.FromNormalized(-361, 0), 871.908, 0],
    [Fixed.FromNormalized(0, 1), 0, NaN],
    [Fixed.FromNormalized(0, 1), -0, NaN],
    [Fixed.FromNormalized(1, 1), 1, 1],
    [Fixed.FromNormalized(-2, 1), 1.11, -2],
    [Fixed.FromNormalized(4, 1), 1.14, 4],
    [Fixed.FromNormalized(8, 1), 1.15, 7],
    [Fixed.FromNormalized(16, 1), 1.19, 13],
    [Fixed.FromNormalized(-32, 1), -0.11, 291],
    [Fixed.FromNormalized(64, 1), -0.14, -457],
    [Fixed.FromNormalized(-65, 1), -0.15, 433],
    [Fixed.FromNormalized(63, 1), -0.150000001, -420],
    [Fixed.FromNormalized(-61, 1), -0.19, 321],
    [Fixed.FromNormalized(163, 1), 231, 1],
    [Fixed.FromNormalized(-161, 1), -87, 2],
    [Fixed.FromNormalized(263, 1), -231, -1],
    [Fixed.FromNormalized(-261, 1), 87, -3],
    [Fixed.FromNormalized(363, 1), -23166.32, 0],
    [Fixed.FromNormalized(-361, 1), 871.908, 0],
    [Fixed.FromNormalized(0, 2), 0, NaN],
    [Fixed.FromNormalized(0, 2), -0, NaN],
    [Fixed.FromNormalized(1, 2), 1, 1],
    [Fixed.FromNormalized(-2, 2), 1.111, -2],
    [Fixed.FromNormalized(4, 2), 1.114, 4],
    [Fixed.FromNormalized(8, 2), 1.115, 7],
    [Fixed.FromNormalized(16, 2), 1.119, 14],
    [Fixed.FromNormalized(-32, 2), -0.111, 288],
    [Fixed.FromNormalized(64, 2), -0.114, -561],
    [Fixed.FromNormalized(-65, 2), -0.115, 565],
    [Fixed.FromNormalized(63, 2), -0.115000001, -548],
    [Fixed.FromNormalized(-61, 2), -0.119, 513],
    [Fixed.FromNormalized(163, 2), 231, 1],
    [Fixed.FromNormalized(-161, 2), -87, 2],
    [Fixed.FromNormalized(263, 2), -231, -1],
    [Fixed.FromNormalized(-261, 2), 87, -3],
    [Fixed.FromNormalized(363, 2), -23166.325, 0],
    [Fixed.FromNormalized(-361, 2), 871.9087, 0],
    [Fixed.FromNormalized(0, 8), 0, NaN],
    [Fixed.FromNormalized(0, 8), -0, NaN],
    [Fixed.FromNormalized(1, 8), 1, 1],
    [Fixed.FromNormalized(-2, 8), 1.111111111, -2],
    [Fixed.FromNormalized(4, 8), 1.111111114, 4],
    [Fixed.FromNormalized(8, 8), 1.111111115, 7],
    [Fixed.FromNormalized(16, 8), 1.111111119, 14],
    [Fixed.FromNormalized(-32, 8), -0.111111111, 288],
    [Fixed.FromNormalized(64, 8), -0.111111114, -576],
    [Fixed.FromNormalized(-65, 8), -0.111111115, 585],
    [Fixed.FromNormalized(63, 8), -0.111111115001, -567],
    [Fixed.FromNormalized(-61, 8), -0.111111119, 549],
    [Fixed.FromNormalized(1653, 8), 231, 7],
    [Fixed.FromNormalized(-1601, 8), -87, 18],
    [Fixed.FromNormalized(26103, 8), -231, -113],
    [Fixed.FromNormalized(-26331, 8), 87, -303],
    [Fixed.FromNormalized(36253, 8), -23166.321254786, -2],
    [Fixed.FromNormalized(-36251, 8), 871.908704756, -42],
    [Fixed.FromNormalized(0, 15), 0, NaN],
    [Fixed.FromNormalized(0, 15), -0, NaN],
    [Fixed.FromNormalized(1, 15), 1, 1],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, -18],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, 36],
    [Fixed.FromNormalized(8, 15), 0.1111111111111115, 72],
    [Fixed.FromNormalized(16, 15), 0.1111111111111119, 144],
    [Fixed.FromNormalized(-32, 15), -0.1111111111111111, 288],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, -576],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, 585],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, -567],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, 549],
    [Fixed.FromNormalized(16887123, 15), 3.5, 4824892],
    [Fixed.FromNormalized(-161101, 15), -8, 20138],
    [Fixed.FromNormalized(26666123, 15), -3.5, -7618892],
    [Fixed.FromNormalized(-261884, 15), 8, -32735],
    [Fixed.FromNormalized(363453, 15), -6.321254786897412, -57497],
    [Fixed.FromNormalized(-361251, 15), 7.908704756110478, -45678]
])
.test('divideByNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.divideByNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, NaN],
    [Fixed.FromNormalized(0, 0), -0, NaN],
    [Fixed.FromNormalized(1, 0), 0.1, Infinity],
    [Fixed.FromNormalized(-1, 0), -0.224, Infinity],
    [Fixed.FromNormalized(0, 0), 1, 0],
    [Fixed.FromNormalized(0, 0), -1, 0],
    [Fixed.FromNormalized(231, 0), 132, 2],
    [Fixed.FromNormalized(-231, 0), -132.9, 2],
    [Fixed.FromNormalized(87, 0), -149.87, -1],
    [Fixed.FromNormalized(-87, 0), 149.56, -1],
    [Fixed.FromNormalized(231001, 0), 7894, 29],
    [Fixed.FromNormalized(-231001, 0), -7894, 29],
    [Fixed.FromNormalized(87456, 0), -1491234568.1, 0],
    [Fixed.FromNormalized(-87456, 0), 1491234568.7, 0],
    [Fixed.FromNormalized(0, 1), 0, NaN],
    [Fixed.FromNormalized(0, 1), -0, NaN],
    [Fixed.FromNormalized(1, 1), 0.1, Infinity],
    [Fixed.FromNormalized(-1, 1), -0.224, Infinity],
    [Fixed.FromNormalized(0, 1), 1, 0],
    [Fixed.FromNormalized(0, 1), -1, 0],
    [Fixed.FromNormalized(231, 1), 132, 18],
    [Fixed.FromNormalized(-231, 1), -132.9, 18],
    [Fixed.FromNormalized(87, 1), -149.87, -6],
    [Fixed.FromNormalized(-87, 1), 149.56, -6],
    [Fixed.FromNormalized(231001, 1), 7894, 293],
    [Fixed.FromNormalized(-231001, 1), -7894, 293],
    [Fixed.FromNormalized(87456, 1), -1491234568.1, 0],
    [Fixed.FromNormalized(-87456, 1), 1491234568.7, 0],
    [Fixed.FromNormalized(0, 3), 0, NaN],
    [Fixed.FromNormalized(0, 3), -0, NaN],
    [Fixed.FromNormalized(1, 3), 0.1, Infinity],
    [Fixed.FromNormalized(-1, 3), -0.224, Infinity],
    [Fixed.FromNormalized(0, 3), 1, 0],
    [Fixed.FromNormalized(0, 3), -1, 0],
    [Fixed.FromNormalized(231, 3), 132, 1750],
    [Fixed.FromNormalized(-231, 3), -132.9, 1750],
    [Fixed.FromNormalized(87, 3), -149.87, -584],
    [Fixed.FromNormalized(-87, 3), 149.56, -584],
    [Fixed.FromNormalized(231001, 3), 7894, 29263],
    [Fixed.FromNormalized(-231001, 3), -7894, 29263],
    [Fixed.FromNormalized(87456, 3), -1491234568.1, 0],
    [Fixed.FromNormalized(-87456, 3), 1491234568.7, 0],
    [Fixed.FromNormalized(0, 8), 0, NaN],
    [Fixed.FromNormalized(0, 8), -0, NaN],
    [Fixed.FromNormalized(1, 8), 0.1, Infinity],
    [Fixed.FromNormalized(-1, 8), -0.224, Infinity],
    [Fixed.FromNormalized(0, 8), 1, 0],
    [Fixed.FromNormalized(0, 8), -1, 0],
    [Fixed.FromNormalized(231, 8), 13241265, 1745],
    [Fixed.FromNormalized(-231, 8), -13241265.9, 1745],
    [Fixed.FromNormalized(87, 8), -14998741.87, -580],
    [Fixed.FromNormalized(-87, 8), 14998741.56, -580],
    [Fixed.FromNormalized(231001, 8), 789424, 29261968],
    [Fixed.FromNormalized(-231001, 8), -789424, 29261968],
    [Fixed.FromNormalized(87456, 8), -1491234568.1, -5865],
    [Fixed.FromNormalized(-87456, 8), 1491234568.7, -5865],
    [Fixed.FromNormalized(0, 15), 0, NaN],
    [Fixed.FromNormalized(0, 15), -0, NaN],
    [Fixed.FromNormalized(1, 15), 0.1, Infinity],
    [Fixed.FromNormalized(-1, 15), -0.224, Infinity],
    [Fixed.FromNormalized(0, 15), 1, 0],
    [Fixed.FromNormalized(0, 15), -1, 0],
    [Fixed.FromNormalized(231, 15), 132412656412574, 1745],
    [Fixed.FromNormalized(-231, 15), -132412656412574.9, 1745],
    [Fixed.FromNormalized(87, 15), -149987416412574.9, -580],
    [Fixed.FromNormalized(-87, 15), 149987416412574.6, -580],
    [Fixed.FromNormalized(231001, 15), 78942443756, 2926195200],
    [Fixed.FromNormalized(-231001, 15), -78942443756, 2926195200],
    [Fixed.FromNormalized(87456, 15), -14912345688791.1, -5864671],
    [Fixed.FromNormalized(-87456, 15), 14912345688791.7, -5864671]
])
.test('divideByNormalized should return correct result (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, otherValue: number, expectedNormValue: number) =>
    {
        const result = source.divideByNormalized(otherValue);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 0), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 0), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 0), 1],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 0), 1],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(14, 0), 7],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(17, 0), 8],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 0), -1],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 0), -1],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 0), -7],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 0), -8],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 0), 99],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 0), -94],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 0), 87],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 0), -87],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4, 1), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5, 1), 0],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9, 1), 1],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10, 1), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4, 1), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5, 1), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9, 1), -1],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10, 1), 0],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132, 1), 7],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137, 1), -12],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149, 1), 13],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141, 1), -2],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(49, 2), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(50, 2), 0],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(99, 2), 0],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(100, 2), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-49, 2), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-50, 2), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-99, 2), 0],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-100, 2), 0],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(1323, 2), 6],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-1378, 2), -11],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-1498, 2), 12],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(1410, 2), -2],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(4999999, 7), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(5000000, 7), 0],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(9999999, 7), 0],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(10000000, 7), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-4999999, 7), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-5000000, 7), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-9999999, 7), 0],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-10000000, 7), 0],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(132345125, 7), 6],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-137864515, 7), -10],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-149847858, 7), 12],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(141097814, 7), -2],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(499999999999999, 15), 0],
    [Fixed.FromNormalized(6, 0), Fixed.FromNormalized(500000000000000, 15), 0],
    [Fixed.FromNormalized(7, 0), Fixed.FromNormalized(999999999999999, 15), 0],
    [Fixed.FromNormalized(8, 0), Fixed.FromNormalized(1000000000000000, 15), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-499999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 0), Fixed.FromNormalized(-500000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 0), Fixed.FromNormalized(-999999999999999, 15), 0],
    [Fixed.FromNormalized(-8, 0), Fixed.FromNormalized(-1000000000000000, 15), 0],
    [Fixed.FromNormalized(231, 0), Fixed.FromNormalized(5490978142541264, 15), 0],
    [Fixed.FromNormalized(-231, 0), Fixed.FromNormalized(-4378645151254897, 15), -3],
    [Fixed.FromNormalized(87, 0), Fixed.FromNormalized(-7518478585541524, 15), 4],
    [Fixed.FromNormalized(-87, 0), Fixed.FromNormalized(3710978145541524, 15), -2],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 1), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 1), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 1), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 1), 1],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 1), 1],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(14, 1), 7],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(17, 1), 8],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 1), -1],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 1), -1],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 1), -7],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 1), -8],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 1), 99],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 1), -94],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 1), 87],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 1), -87],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 0), -1],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 0), 5],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 0), 6],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 0), 7],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 0), 8],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 0), -5],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 0), -6],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 0), -7],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 0), -8],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 0), 231],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 0), -231],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 0), 87],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 0), -87],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 2), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 2), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(4, 2), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(5, 2), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(9, 2), 1],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(10, 2), 0],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-4, 2), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-5, 2), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-9, 2), -1],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-10, 2), 0],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(132, 2), 7],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-137, 2), -12],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-149, 2), 12],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(141, 2), -2],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(499999, 7), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(500000, 7), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(999999, 7), 0],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(1000000, 7), 0],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-499999, 7), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-500000, 7), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-999999, 7), 0],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-1000000, 7), 0],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(13234512, 7), 6],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-13786451, 7), -10],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-14984785, 7), 12],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(14109781, 7), -2],
    [Fixed.FromNormalized(0, 1), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 1), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 1), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(5, 1), Fixed.FromNormalized(49999999999999, 15), 0],
    [Fixed.FromNormalized(6, 1), Fixed.FromNormalized(50000000000000, 15), 0],
    [Fixed.FromNormalized(7, 1), Fixed.FromNormalized(99999999999999, 15), 0],
    [Fixed.FromNormalized(8, 1), Fixed.FromNormalized(100000000000000, 15), 0],
    [Fixed.FromNormalized(-5, 1), Fixed.FromNormalized(-49999999999999, 15), 0],
    [Fixed.FromNormalized(-6, 1), Fixed.FromNormalized(-50000000000000, 15), 0],
    [Fixed.FromNormalized(-7, 1), Fixed.FromNormalized(-99999999999999, 15), 0],
    [Fixed.FromNormalized(-8, 1), Fixed.FromNormalized(-100000000000000, 15), 0],
    [Fixed.FromNormalized(231, 1), Fixed.FromNormalized(549097814254126, 15), 0],
    [Fixed.FromNormalized(-231, 1), Fixed.FromNormalized(-437864515125489, 15), -3],
    [Fixed.FromNormalized(87, 1), Fixed.FromNormalized(-751847858554152, 15), 4],
    [Fixed.FromNormalized(-87, 1), Fixed.FromNormalized(371097814554152, 15), -2],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 3), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 3), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 3), 0],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(444, 3), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(555, 3), 6],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(14, 3), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(17, 3), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-444, 3), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-555, 3), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-999, 3), -7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-1000, 3), -8],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 3), 99],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 3), -94],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 3), 87],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 3), -87],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 0), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 0), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 0), 6],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 0), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 0), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 0), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 0), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 0), -7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 0), -8],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 0), 231],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 0), -231],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 0), 87],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 0), -87],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 3), Fixed.FromNormalized(4, 2), 5],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(5, 2), 6],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(9, 2), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(10, 2), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-4, 2), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-5, 2), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-9, 2), -7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10, 2), -8],
    [Fixed.FromNormalized(231, 3), Fixed.FromNormalized(132, 2), 231],
    [Fixed.FromNormalized(-231, 3), Fixed.FromNormalized(-137, 2), -231],
    [Fixed.FromNormalized(87, 3), Fixed.FromNormalized(-149, 2), 87],
    [Fixed.FromNormalized(-87, 3), Fixed.FromNormalized(141, 2), -87],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 7), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 7), 0],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999, 7), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000, 7), 1],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999, 7), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000, 7), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999, 7), 0],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000, 7), -1],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999, 7), -7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-10000, 7), 0],
    [Fixed.FromNormalized(23141, 3), Fixed.FromNormalized(132345, 7), 7],
    [Fixed.FromNormalized(-23141, 3), Fixed.FromNormalized(-137864, 7), -7],
    [Fixed.FromNormalized(8741, 3), Fixed.FromNormalized(-149847, 7), 5],
    [Fixed.FromNormalized(-8741, 3), Fixed.FromNormalized(141097, 7), -7],
    [Fixed.FromNormalized(0, 3), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 3), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-1, 3), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(55, 3), Fixed.FromNormalized(4999999999999, 15), 0],
    [Fixed.FromNormalized(6, 3), Fixed.FromNormalized(50000000000000, 15), 6],
    [Fixed.FromNormalized(7, 3), Fixed.FromNormalized(99999999999999, 15), 7],
    [Fixed.FromNormalized(8, 3), Fixed.FromNormalized(100000000000000, 15), 8],
    [Fixed.FromNormalized(-5, 3), Fixed.FromNormalized(-49999999999999, 15), -5],
    [Fixed.FromNormalized(-6, 3), Fixed.FromNormalized(-50000000000000, 15), -6],
    [Fixed.FromNormalized(-7, 3), Fixed.FromNormalized(-99999999999999, 15), -7],
    [Fixed.FromNormalized(-8, 3), Fixed.FromNormalized(-100000000000000, 15), -8],
    [Fixed.FromNormalized(23145, 3), Fixed.FromNormalized(5490978142541, 15), 1],
    [Fixed.FromNormalized(-23145, 3), Fixed.FromNormalized(-4378645151254, 15), -4],
    [Fixed.FromNormalized(8745, 3), Fixed.FromNormalized(-7518478585541, 15), 1],
    [Fixed.FromNormalized(-8745, 3), Fixed.FromNormalized(3710978145541, 15), -2],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 8), 0],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 8), 0],
    [Fixed.FromNormalized(555, 8), Fixed.FromNormalized(4444444, 8), 555],
    [Fixed.FromNormalized(666, 8), Fixed.FromNormalized(5555555, 8), 666],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(14, 8), 7],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(17, 8), 8],
    [Fixed.FromNormalized(-555, 8), Fixed.FromNormalized(-4444444, 8), -555],
    [Fixed.FromNormalized(-666, 8), Fixed.FromNormalized(-5555555, 8), -666],
    [Fixed.FromNormalized(-777, 8), Fixed.FromNormalized(-9999999, 8), -777],
    [Fixed.FromNormalized(-888, 8), Fixed.FromNormalized(-100000000, 8), -888],
    [Fixed.FromNormalized(231001, 8), Fixed.FromNormalized(13256716, 8), 231001],
    [Fixed.FromNormalized(-231001, 8), Fixed.FromNormalized(-13756716, 8), -231001],
    [Fixed.FromNormalized(87001, 8), Fixed.FromNormalized(-14945215479, 8), 87001],
    [Fixed.FromNormalized(-87001, 8), Fixed.FromNormalized(14945215479, 8), -87001],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 0), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 0), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 0), -1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 0), 5],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 0), 6],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 0), 7],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 0), 8],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 0), -5],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 0), -6],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 0), -7],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 0), -8],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 0), 231],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 0), -231],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 0), 87],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 0), -87],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 2), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 2), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 2), -1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(4, 2), 5],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5, 2), 6],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(9, 2), 7],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(10, 2), 8],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-4, 2), -5],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-5, 2), -6],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-9, 2), -7],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-10, 2), -8],
    [Fixed.FromNormalized(231, 8), Fixed.FromNormalized(132, 2), 231],
    [Fixed.FromNormalized(-231, 8), Fixed.FromNormalized(-137, 2), -231],
    [Fixed.FromNormalized(87, 8), Fixed.FromNormalized(-149, 2), 87],
    [Fixed.FromNormalized(-87, 8), Fixed.FromNormalized(141, 2), -87],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 7), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-1, 7), -1],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(49999, 7), 55],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(500000, 7), 6],
    [Fixed.FromNormalized(7, 8), Fixed.FromNormalized(999999, 7), 7],
    [Fixed.FromNormalized(8, 8), Fixed.FromNormalized(1000000, 7), 8],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-499999, 7), -5],
    [Fixed.FromNormalized(-6, 8), Fixed.FromNormalized(-500000, 7), -6],
    [Fixed.FromNormalized(-7, 8), Fixed.FromNormalized(-999999, 7), -7],
    [Fixed.FromNormalized(-8, 8), Fixed.FromNormalized(-1000000, 7), -8],
    [Fixed.FromNormalized(23121, 8), Fixed.FromNormalized(132345, 7), 23121],
    [Fixed.FromNormalized(-23121, 8), Fixed.FromNormalized(-137864, 7), -23121],
    [Fixed.FromNormalized(8777, 8), Fixed.FromNormalized(-149847, 7), 8777],
    [Fixed.FromNormalized(-8777, 8), Fixed.FromNormalized(141097, 7), -8777],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), NaN],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(1, 15), 0],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 15), 0],
    [Fixed.FromNormalized(55, 8), Fixed.FromNormalized(499999999, 15), 5],
    [Fixed.FromNormalized(6, 8), Fixed.FromNormalized(5000000000, 15), 6],
    [Fixed.FromNormalized(74, 8), Fixed.FromNormalized(9999999999, 15), 74],
    [Fixed.FromNormalized(889, 8), Fixed.FromNormalized(10000000000, 15), 889],
    [Fixed.FromNormalized(-50, 8), Fixed.FromNormalized(-4999999999, 15), -50],
    [Fixed.FromNormalized(-601, 8), Fixed.FromNormalized(-5000000000, 15), -101],
    [Fixed.FromNormalized(-7221, 8), Fixed.FromNormalized(-9999999999, 15), -221],
    [Fixed.FromNormalized(-878, 8), Fixed.FromNormalized(-10000000000, 15), -878],
    [Fixed.FromNormalized(231580, 8), Fixed.FromNormalized(54909789781, 15), 959],
    [Fixed.FromNormalized(-231005, 8), Fixed.FromNormalized(-43712586451, 15), -3700],
    [Fixed.FromNormalized(87571, 8), Fixed.FromNormalized(-75184154785, 15), 4868],
    [Fixed.FromNormalized(-87448, 8), Fixed.FromNormalized(37101249781, 15), -2115]
])
.test('modulo should change value properly (%#): source: %o, other: %o, expected norm. value: %f',
    (source: Fixed, other: Fixed, expectedNormValue: number) =>
    {
        const result = source.modulo(other);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, NaN],
    [Fixed.FromNormalized(0, 0), -0, NaN],
    [Fixed.FromNormalized(1, 0), 1, 0],
    [Fixed.FromNormalized(-2, 0), 1.1, -1],
    [Fixed.FromNormalized(4, 0), 2, 0],
    [Fixed.FromNormalized(8, 0), 8, 0],
    [Fixed.FromNormalized(16, 0), 1.9, 1],
    [Fixed.FromNormalized(-32, 0), -0.1, 0],
    [Fixed.FromNormalized(64, 0), -0.4, 0],
    [Fixed.FromNormalized(-65, 0), -0.5, 0],
    [Fixed.FromNormalized(63, 0), -0.50000001, 0],
    [Fixed.FromNormalized(-61, 0), -0.9, -1],
    [Fixed.FromNormalized(163, 0), 231, 163],
    [Fixed.FromNormalized(-161, 0), -87, -74],
    [Fixed.FromNormalized(263, 0), -231, 32],
    [Fixed.FromNormalized(-261, 0), 87, 0],
    [Fixed.FromNormalized(363, 0), -23166.32, 363],
    [Fixed.FromNormalized(-361, 0), 871.908, -361],
    [Fixed.FromNormalized(0, 1), 0, NaN],
    [Fixed.FromNormalized(0, 1), -0, NaN],
    [Fixed.FromNormalized(1, 1), 1, 1],
    [Fixed.FromNormalized(-2, 1), 1.11, -2],
    [Fixed.FromNormalized(4, 1), 1.14, 4],
    [Fixed.FromNormalized(8, 1), 1.15, 8],
    [Fixed.FromNormalized(16, 1), 1.19, 4],
    [Fixed.FromNormalized(-32, 1), -0.11, 0],
    [Fixed.FromNormalized(64, 1), -0.14, 1],
    [Fixed.FromNormalized(-65, 1), -0.15, -1],
    [Fixed.FromNormalized(63, 1), -0.150000001, 1],
    [Fixed.FromNormalized(-61, 1), -0.19, 0],
    [Fixed.FromNormalized(163, 1), 231, 163],
    [Fixed.FromNormalized(-161, 1), -87, -161],
    [Fixed.FromNormalized(263, 1), -231, 263],
    [Fixed.FromNormalized(-261, 1), 87, -261],
    [Fixed.FromNormalized(363321, 1), -2366.32, 8373],
    [Fixed.FromNormalized(-898, 1), 87.908, -19],
    [Fixed.FromNormalized(0, 2), 0, NaN],
    [Fixed.FromNormalized(0, 2), -0, NaN],
    [Fixed.FromNormalized(1, 2), 1, 1],
    [Fixed.FromNormalized(-2, 2), 1.111, -2],
    [Fixed.FromNormalized(4, 2), 1.114, 4],
    [Fixed.FromNormalized(8, 2), 1.115, 8],
    [Fixed.FromNormalized(16, 2), 1.119, 16],
    [Fixed.FromNormalized(-32, 2), -0.111, -10],
    [Fixed.FromNormalized(64, 2), -0.114, 7],
    [Fixed.FromNormalized(-65, 2), -0.115, -7],
    [Fixed.FromNormalized(63, 2), -0.115000001, 5],
    [Fixed.FromNormalized(-61, 2), -0.119, -1],
    [Fixed.FromNormalized(163, 2), 231, 163],
    [Fixed.FromNormalized(-161221, 2), -87, -4621],
    [Fixed.FromNormalized(263112, 2), -231, 9012],
    [Fixed.FromNormalized(-2611252, 2), 87, -1252],
    [Fixed.FromNormalized(3631122, 2), -23166.325, 1314489],
    [Fixed.FromNormalized(-36115, 2), 871.9087, -36115],
    [Fixed.FromNormalized(0, 8), 0, NaN],
    [Fixed.FromNormalized(0, 8), -0, NaN],
    [Fixed.FromNormalized(1, 8), 1, 1],
    [Fixed.FromNormalized(-2, 8), 1.111111111, -2],
    [Fixed.FromNormalized(4, 8), 1.111111114, 4],
    [Fixed.FromNormalized(888888888888, 8), 1.111111115, 111108000],
    [Fixed.FromNormalized(166666666666, 8), 1.111111119, 111109928],
    [Fixed.FromNormalized(-320000000001, 8), -0.111111111, -321],
    [Fixed.FromNormalized(64, 8), -0.111111114, 64],
    [Fixed.FromNormalized(-655555555555, 8), -0.111111115, -11088167],
    [Fixed.FromNormalized(63, 8), -0.111111115001, 63],
    [Fixed.FromNormalized(-611111111111, 8), -0.111111119, -11067723],
    [Fixed.FromNormalized(265312547, 8), 2, 65312547],
    [Fixed.FromNormalized(-1601, 8), -87, -1601],
    [Fixed.FromNormalized(26103, 8), -231, 26103],
    [Fixed.FromNormalized(-26331, 8), 87, -26331],
    [Fixed.FromNormalized(362535874, 8), -0.321254786, 9155609],
    [Fixed.FromNormalized(-362512154, 8), 0.908704756, -89900727],
    [Fixed.FromNormalized(0, 15), 0, NaN],
    [Fixed.FromNormalized(0, 15), -0, NaN],
    [Fixed.FromNormalized(1, 15), 1, 1],
    [Fixed.FromNormalized(-2, 15), 0.1111111111111111, -2],
    [Fixed.FromNormalized(4, 15), 0.1111111111111114, 4],
    [Fixed.FromNormalized(888888888888888, 15), 0.1111111111111115, 111111111111108],
    [Fixed.FromNormalized(166666666666666, 15), 0.1111111111111119, 55555555555554],
    [Fixed.FromNormalized(-3200000000000001, 15), -0.1111111111111111, -88888888888890],
    [Fixed.FromNormalized(64, 15), -0.1111111111111114, 64],
    [Fixed.FromNormalized(-65, 15), -0.1111111111111115, -65],
    [Fixed.FromNormalized(63, 15), -0.1111111111111116, 63],
    [Fixed.FromNormalized(-61, 15), -0.1111111111111119, -61],
    [Fixed.FromNormalized(1688712312547855, 15), 0.5, 188712312547855],
    [Fixed.FromNormalized(-161101, 15), -8, -161101],
    [Fixed.FromNormalized(26666123, 15), -3.5, 26666123],
    [Fixed.FromNormalized(-261884, 15), 8, -261884],
    [Fixed.FromNormalized(3634535874125458, 15), -2.321254786897412, 1313281087228046],
    [Fixed.FromNormalized(-3634535874125458, 15), 1.908704756110478, -1725831118014980]
])
.test('moduloByNumber should change value properly (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, value: number, expectedNormValue: number) =>
    {
        const result = source.moduloByNumber(value);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), 0, NaN],
    [Fixed.FromNormalized(0, 0), -0, NaN],
    [Fixed.FromNormalized(1, 0), 0.1, NaN],
    [Fixed.FromNormalized(-1, 0), -0.224, NaN],
    [Fixed.FromNormalized(0, 0), 1, 0],
    [Fixed.FromNormalized(0, 0), -1, 0],
    [Fixed.FromNormalized(231, 0), 132, 99],
    [Fixed.FromNormalized(-231, 0), -132.9, -99],
    [Fixed.FromNormalized(87, 0), -87.87, 0],
    [Fixed.FromNormalized(-88, 0), 44.56, 0],
    [Fixed.FromNormalized(231001, 0), 7894, 2075],
    [Fixed.FromNormalized(-231001, 0), -7894, -2075],
    [Fixed.FromNormalized(87456, 0), -1491234568.1, 87456],
    [Fixed.FromNormalized(-87456, 0), 1491234568.7, -87456],
    [Fixed.FromNormalized(0, 1), 0, NaN],
    [Fixed.FromNormalized(0, 1), -0, NaN],
    [Fixed.FromNormalized(1, 1), 0.1, NaN],
    [Fixed.FromNormalized(-1, 1), -0.224, NaN],
    [Fixed.FromNormalized(0, 1), 1, 0],
    [Fixed.FromNormalized(0, 1), -1, 0],
    [Fixed.FromNormalized(231, 1), 132, 99],
    [Fixed.FromNormalized(-231, 1), -132.9, -99],
    [Fixed.FromNormalized(87, 1), -87.87, 0],
    [Fixed.FromNormalized(-88, 1), 44.56, 0],
    [Fixed.FromNormalized(231001, 1), 7894, 2075],
    [Fixed.FromNormalized(-231001, 1), -7894, -2075],
    [Fixed.FromNormalized(87456, 1), -1491234568.1, 87456],
    [Fixed.FromNormalized(-87456, 1), 1491234568.7, -87456],
    [Fixed.FromNormalized(0, 3), 0, NaN],
    [Fixed.FromNormalized(0, 3), -0, NaN],
    [Fixed.FromNormalized(1, 3), 0.1, NaN],
    [Fixed.FromNormalized(-1, 3), -0.224, NaN],
    [Fixed.FromNormalized(0, 3), 1, 0],
    [Fixed.FromNormalized(0, 3), -1, 0],
    [Fixed.FromNormalized(231, 3), 132, 99],
    [Fixed.FromNormalized(-231, 3), -132.9, -99],
    [Fixed.FromNormalized(87, 3), -87.87, 0],
    [Fixed.FromNormalized(-88, 3), 44.56, 0],
    [Fixed.FromNormalized(231001, 3), 7894, 2075],
    [Fixed.FromNormalized(-231001, 3), -7894, -2075],
    [Fixed.FromNormalized(87456, 3), -1491234568.1, 87456],
    [Fixed.FromNormalized(-87456, 3), 1491234568.7, -87456],
    [Fixed.FromNormalized(0, 8), 0, NaN],
    [Fixed.FromNormalized(0, 8), -0, NaN],
    [Fixed.FromNormalized(1, 8), 0.1, NaN],
    [Fixed.FromNormalized(-1, 8), -0.224, NaN],
    [Fixed.FromNormalized(0, 8), 1, 0],
    [Fixed.FromNormalized(0, 8), -1, 0],
    [Fixed.FromNormalized(2315474122, 8), 13241265, 11494012],
    [Fixed.FromNormalized(-2315474122, 8), -13241265.9, -11494012],
    [Fixed.FromNormalized(14998741, 8), -14998741.87, 0],
    [Fixed.FromNormalized(-14998741, 8), 29997482.56, -14998741],
    [Fixed.FromNormalized(23100001, 8), 789424, 206705],
    [Fixed.FromNormalized(-23100001, 8), -789424, -206705],
    [Fixed.FromNormalized(87456, 8), -1491234568.1, 87456],
    [Fixed.FromNormalized(-87456, 8), 1491234568.7, -87456],
    [Fixed.FromNormalized(0, 15), 0, NaN],
    [Fixed.FromNormalized(0, 15), -0, NaN],
    [Fixed.FromNormalized(1, 15), 0.1, NaN],
    [Fixed.FromNormalized(-1, 15), -0.224, NaN],
    [Fixed.FromNormalized(0, 15), 1, 0],
    [Fixed.FromNormalized(0, 15), -1, 0],
    [Fixed.FromNormalized(231, 15), 132, 99],
    [Fixed.FromNormalized(-231, 15), -132.9, -99],
    [Fixed.FromNormalized(87, 15), -87.9, 0],
    [Fixed.FromNormalized(-88, 15), 44.6, 0],
    [Fixed.FromNormalized(231001, 15), 78756, 73489],
    [Fixed.FromNormalized(-231001, 15), -73756, -9733],
    [Fixed.FromNormalized(87456, 15), -14912345688791.1, 87456],
    [Fixed.FromNormalized(-87456, 15), 14912345688791.7, -87456]
])
.test('moduloByNormalized should return correct result (%#): source: %o, value: %f, expected norm. value: %f',
    (source: Fixed, otherValue: number, expectedNormValue: number) =>
    {
        const result = source.moduloByNormalized(otherValue);
        expect(result).toBe(source);
        expect(result.normalizedValue).toBe(expectedNormValue);
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), true],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(0, 0), false],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(0, 0), false],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(99, 0), false],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-99, 0), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 0), true],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 0), true],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-123, 0), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(123, 0), false],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), true],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(9, 1), false],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-9, 1), false],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(999, 1), false],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-999, 1), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(1230, 1), true],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-1230, 1), true],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 1), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 1), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-1230, 1), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(1230, 1), false],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 3), true],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(999, 3), false],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-999, 3), false],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(99999, 3), false],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-99999, 3), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123000, 3), true],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123000, 3), true],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 3), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 3), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-123000, 3), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(123000, 3), false],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), true],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(9999999, 7), false],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-9999999, 7), false],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(999999999, 7), false],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-999999999, 7), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(1230000000, 7), true],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-1230000000, 7), true],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 7), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 7), false],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-1230000000, 7), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(1230000000, 7), false],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), true],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(999999999999999, 15), false],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-999999999999999, 15), false],
    [Fixed.FromNormalized(3, 0), Fixed.FromNormalized(2999999999999999, 15), false],
    [Fixed.FromNormalized(-3, 0), Fixed.FromNormalized(-2999999999999999, 15), false],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(5000000000000000, 15), true],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-5000000000000000, 15), true],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 15), false],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 15), false],
    [Fixed.FromNormalized(5000000000000000, 0), Fixed.FromNormalized(-5000000000000000, 15), false],
    [Fixed.FromNormalized(-5000000000000000, 0), Fixed.FromNormalized(5000000000000000, 15), false],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 2), true],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(0, 2), false],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(0, 2), false],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(99, 2), false],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-99, 2), false],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 2), true],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 2), true],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-123, 2), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(123, 2), false],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 1), true],
    [Fixed.FromNormalized(9, 2), Fixed.FromNormalized(1, 1), false],
    [Fixed.FromNormalized(-9, 2), Fixed.FromNormalized(-1, 1), false],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(9, 1), false],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-9, 1), false],
    [Fixed.FromNormalized(1230, 2), Fixed.FromNormalized(123, 1), true],
    [Fixed.FromNormalized(-1230, 2), Fixed.FromNormalized(-123, 1), true],
    [Fixed.FromNormalized(1230, 2), Fixed.FromNormalized(-123, 1), false],
    [Fixed.FromNormalized(-1230, 2), Fixed.FromNormalized(123, 1), false],
    [Fixed.FromNormalized(1231, 2), Fixed.FromNormalized(123, 1), false],
    [Fixed.FromNormalized(-1231, 2), Fixed.FromNormalized(-123, 1), false],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 3), true],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(9, 3), false],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-9, 3), false],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(999, 3), false],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-999, 3), false],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(1230, 3), true],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-1230, 3), true],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 3), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 3), false],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-1230, 3), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(1230, 3), false],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 7), true],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(99999, 7), false],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-99999, 7), false],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(9999999, 7), false],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-9999999, 7), false],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(12300000, 7), true],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-12300000, 7), true],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 7), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 7), false],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-12300000, 7), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(12300000, 7), false],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 15), true],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(9999999999999, 15), false],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-9999999999999, 15), false],
    [Fixed.FromNormalized(3, 2), Fixed.FromNormalized(29999999999999, 15), false],
    [Fixed.FromNormalized(-3, 2), Fixed.FromNormalized(-29999999999999, 15), false],
    [Fixed.FromNormalized(5, 2), Fixed.FromNormalized(50000000000000, 15), true],
    [Fixed.FromNormalized(-5, 2), Fixed.FromNormalized(-50000000000000, 15), true],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 15), false],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 15), false],
    [Fixed.FromNormalized(5000000000000000, 2), Fixed.FromNormalized(-5000000000000000, 15), false],
    [Fixed.FromNormalized(-5000000000000000, 2), Fixed.FromNormalized(5000000000000000, 15), false],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), true],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(0, 8), false],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(0, 8), false],
    [Fixed.FromNormalized(100, 8), Fixed.FromNormalized(99, 8), false],
    [Fixed.FromNormalized(-100, 8), Fixed.FromNormalized(-99, 8), false],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 8), true],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 8), true],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(-123, 8), false],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(123, 8), false],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 1), true],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 1), false],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 1), false],
    [Fixed.FromNormalized(100000000, 8), Fixed.FromNormalized(9, 1), false],
    [Fixed.FromNormalized(-100000000, 8), Fixed.FromNormalized(-9, 1), false],
    [Fixed.FromNormalized(1230000000, 8), Fixed.FromNormalized(123, 1), true],
    [Fixed.FromNormalized(-1230000000, 8), Fixed.FromNormalized(-123, 1), true],
    [Fixed.FromNormalized(1230000000, 8), Fixed.FromNormalized(-123, 1), false],
    [Fixed.FromNormalized(-1230000000, 8), Fixed.FromNormalized(123, 1), false],
    [Fixed.FromNormalized(1230000001, 8), Fixed.FromNormalized(123, 1), false],
    [Fixed.FromNormalized(-1230000001, 8), Fixed.FromNormalized(-123, 1), false],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 3), true],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 3), false],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 3), false],
    [Fixed.FromNormalized(1000000, 8), Fixed.FromNormalized(9, 3), false],
    [Fixed.FromNormalized(-1000000, 8), Fixed.FromNormalized(-9, 3), false],
    [Fixed.FromNormalized(12300000, 8), Fixed.FromNormalized(123, 3), true],
    [Fixed.FromNormalized(-12300000, 8), Fixed.FromNormalized(-123, 3), true],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 3), false],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 3), false],
    [Fixed.FromNormalized(12300001, 8), Fixed.FromNormalized(-123, 3), false],
    [Fixed.FromNormalized(-12300001, 8), Fixed.FromNormalized(123, 3), false],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), true],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 7), false],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 7), false],
    [Fixed.FromNormalized(100, 8), Fixed.FromNormalized(9, 7), false],
    [Fixed.FromNormalized(-100, 8), Fixed.FromNormalized(-9, 7), false],
    [Fixed.FromNormalized(1230, 8), Fixed.FromNormalized(123, 7), true],
    [Fixed.FromNormalized(-1230, 8), Fixed.FromNormalized(-123, 7), true],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 7), false],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 7), false],
    [Fixed.FromNormalized(1231, 8), Fixed.FromNormalized(-123, 7), false],
    [Fixed.FromNormalized(-1231, 8), Fixed.FromNormalized(123, 7), false],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), true],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(9999999, 15), false],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-9999999, 15), false],
    [Fixed.FromNormalized(3, 8), Fixed.FromNormalized(29999999, 15), false],
    [Fixed.FromNormalized(-3, 8), Fixed.FromNormalized(-29999999, 15), false],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(50000000, 15), true],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-50000000, 15), true],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 15), false],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 15), false],
    [Fixed.FromNormalized(5000000000000000, 8), Fixed.FromNormalized(-5000000000000000, 15), false],
    [Fixed.FromNormalized(-5000000000000000, 8), Fixed.FromNormalized(5000000000000000, 15), false]
])
.test('equals should return correct result (%#): source: %o, other: %o, expected result: %s',
    (source: Fixed, other: Fixed, expected: boolean) =>
    {
        const result = source.equals(other);
        expect(result).toBe(expected);
    }
);

each([
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 0), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(0, 0), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(0, 0), -1],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(99, 0), 1],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-99, 0), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 0), 0],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 0), 0],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-123, 0), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(123, 0), -1],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(9, 1), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-9, 1), -1],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(999, 1), 1],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-999, 1), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(1230, 1), 0],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-1230, 1), 0],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 1), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 1), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-1230, 1), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(1230, 1), -1],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(999, 3), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-999, 3), -1],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(99999, 3), 1],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-99999, 3), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123000, 3), 0],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123000, 3), 0],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 3), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 3), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-123000, 3), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(123000, 3), -1],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(9999999, 7), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-9999999, 7), -1],
    [Fixed.FromNormalized(100, 0), Fixed.FromNormalized(999999999, 7), 1],
    [Fixed.FromNormalized(-100, 0), Fixed.FromNormalized(-999999999, 7), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(1230000000, 7), 0],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-1230000000, 7), 0],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 7), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 7), -1],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(-1230000000, 7), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(1230000000, 7), -1],
    [Fixed.FromNormalized(0, 0), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 0), Fixed.FromNormalized(999999999999999, 15), 1],
    [Fixed.FromNormalized(-1, 0), Fixed.FromNormalized(-999999999999999, 15), -1],
    [Fixed.FromNormalized(3, 0), Fixed.FromNormalized(2999999999999999, 15), 1],
    [Fixed.FromNormalized(-3, 0), Fixed.FromNormalized(-2999999999999999, 15), -1],
    [Fixed.FromNormalized(5, 0), Fixed.FromNormalized(5000000000000000, 15), 0],
    [Fixed.FromNormalized(-5, 0), Fixed.FromNormalized(-5000000000000000, 15), 0],
    [Fixed.FromNormalized(123, 0), Fixed.FromNormalized(123, 15), 1],
    [Fixed.FromNormalized(-123, 0), Fixed.FromNormalized(-123, 15), -1],
    [Fixed.FromNormalized(5000000000000000, 0), Fixed.FromNormalized(-5000000000000000, 15), 1],
    [Fixed.FromNormalized(-5000000000000000, 0), Fixed.FromNormalized(5000000000000000, 15), -1],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 2), 0],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(0, 2), 1],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(0, 2), -1],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(99, 2), 1],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-99, 2), -1],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 2), 0],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 2), 0],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-123, 2), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(123, 2), -1],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(9, 2), Fixed.FromNormalized(1, 1), -1],
    [Fixed.FromNormalized(-9, 2), Fixed.FromNormalized(-1, 1), 1],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(9, 1), 1],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-9, 1), -1],
    [Fixed.FromNormalized(1230, 2), Fixed.FromNormalized(123, 1), 0],
    [Fixed.FromNormalized(-1230, 2), Fixed.FromNormalized(-123, 1), 0],
    [Fixed.FromNormalized(1230, 2), Fixed.FromNormalized(-123, 1), 1],
    [Fixed.FromNormalized(-1230, 2), Fixed.FromNormalized(123, 1), -1],
    [Fixed.FromNormalized(1231, 2), Fixed.FromNormalized(123, 1), 1],
    [Fixed.FromNormalized(-1231, 2), Fixed.FromNormalized(-123, 1), -1],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(9, 3), 1],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-9, 3), -1],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(999, 3), 1],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-999, 3), -1],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(1230, 3), 0],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-1230, 3), 0],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 3), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 3), -1],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-1230, 3), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(1230, 3), -1],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(99999, 7), 1],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-99999, 7), -1],
    [Fixed.FromNormalized(100, 2), Fixed.FromNormalized(9999999, 7), 1],
    [Fixed.FromNormalized(-100, 2), Fixed.FromNormalized(-9999999, 7), -1],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(12300000, 7), 0],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-12300000, 7), 0],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 7), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 7), -1],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(-12300000, 7), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(12300000, 7), -1],
    [Fixed.FromNormalized(0, 2), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 2), Fixed.FromNormalized(9999999999999, 15), 1],
    [Fixed.FromNormalized(-1, 2), Fixed.FromNormalized(-9999999999999, 15), -1],
    [Fixed.FromNormalized(3, 2), Fixed.FromNormalized(29999999999999, 15), 1],
    [Fixed.FromNormalized(-3, 2), Fixed.FromNormalized(-29999999999999, 15), -1],
    [Fixed.FromNormalized(5, 2), Fixed.FromNormalized(50000000000000, 15), 0],
    [Fixed.FromNormalized(-5, 2), Fixed.FromNormalized(-50000000000000, 15), 0],
    [Fixed.FromNormalized(123, 2), Fixed.FromNormalized(123, 15), 1],
    [Fixed.FromNormalized(-123, 2), Fixed.FromNormalized(-123, 15), -1],
    [Fixed.FromNormalized(5000000000000000, 2), Fixed.FromNormalized(-5000000000000000, 15), 1],
    [Fixed.FromNormalized(-5000000000000000, 2), Fixed.FromNormalized(5000000000000000, 15), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 8), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(0, 8), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(0, 8), -1],
    [Fixed.FromNormalized(100, 8), Fixed.FromNormalized(99, 8), 1],
    [Fixed.FromNormalized(-100, 8), Fixed.FromNormalized(-99, 8), -1],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 8), 0],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 8), 0],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(-123, 8), 1],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(123, 8), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 1), 0],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 1), -1],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 1), 1],
    [Fixed.FromNormalized(100000000, 8), Fixed.FromNormalized(9, 1), 1],
    [Fixed.FromNormalized(-100000000, 8), Fixed.FromNormalized(-9, 1), -1],
    [Fixed.FromNormalized(1230000000, 8), Fixed.FromNormalized(123, 1), 0],
    [Fixed.FromNormalized(-1230000000, 8), Fixed.FromNormalized(-123, 1), 0],
    [Fixed.FromNormalized(1230000000, 8), Fixed.FromNormalized(-123, 1), 1],
    [Fixed.FromNormalized(-1230000000, 8), Fixed.FromNormalized(123, 1), -1],
    [Fixed.FromNormalized(1230000001, 8), Fixed.FromNormalized(123, 1), 1],
    [Fixed.FromNormalized(-1230000001, 8), Fixed.FromNormalized(-123, 1), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 3), 0],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 3), -1],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 3), 1],
    [Fixed.FromNormalized(1000000, 8), Fixed.FromNormalized(9, 3), 1],
    [Fixed.FromNormalized(-1000000, 8), Fixed.FromNormalized(-9, 3), -1],
    [Fixed.FromNormalized(12300000, 8), Fixed.FromNormalized(123, 3), 0],
    [Fixed.FromNormalized(-12300000, 8), Fixed.FromNormalized(-123, 3), 0],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 3), -1],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 3), 1],
    [Fixed.FromNormalized(12300001, 8), Fixed.FromNormalized(-123, 3), 1],
    [Fixed.FromNormalized(-12300001, 8), Fixed.FromNormalized(123, 3), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 7), 0],
    [Fixed.FromNormalized(9, 8), Fixed.FromNormalized(1, 7), -1],
    [Fixed.FromNormalized(-9, 8), Fixed.FromNormalized(-1, 7), 1],
    [Fixed.FromNormalized(100, 8), Fixed.FromNormalized(9, 7), 1],
    [Fixed.FromNormalized(-100, 8), Fixed.FromNormalized(-9, 7), -1],
    [Fixed.FromNormalized(1230, 8), Fixed.FromNormalized(123, 7), 0],
    [Fixed.FromNormalized(-1230, 8), Fixed.FromNormalized(-123, 7), 0],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 7), -1],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 7), 1],
    [Fixed.FromNormalized(1231, 8), Fixed.FromNormalized(-123, 7), 1],
    [Fixed.FromNormalized(-1231, 8), Fixed.FromNormalized(123, 7), -1],
    [Fixed.FromNormalized(0, 8), Fixed.FromNormalized(0, 15), 0],
    [Fixed.FromNormalized(1, 8), Fixed.FromNormalized(9999999, 15), 1],
    [Fixed.FromNormalized(-1, 8), Fixed.FromNormalized(-9999999, 15), -1],
    [Fixed.FromNormalized(3, 8), Fixed.FromNormalized(29999999, 15), 1],
    [Fixed.FromNormalized(-3, 8), Fixed.FromNormalized(-29999999, 15), -1],
    [Fixed.FromNormalized(5, 8), Fixed.FromNormalized(50000000, 15), 0],
    [Fixed.FromNormalized(-5, 8), Fixed.FromNormalized(-50000000, 15), 0],
    [Fixed.FromNormalized(123, 8), Fixed.FromNormalized(123, 15), 1],
    [Fixed.FromNormalized(-123, 8), Fixed.FromNormalized(-123, 15), -1],
    [Fixed.FromNormalized(5000000000000000, 8), Fixed.FromNormalized(-5000000000000000, 15), 1],
    [Fixed.FromNormalized(-5000000000000000, 8), Fixed.FromNormalized(5000000000000000, 15), -1]
])
.test('compareTo should return correct result (%#): source: %o, other: %o, expected result: %f',
    (source: Fixed, other: Fixed, expected: number) =>
    {
        const result = source.compareTo(other);
        if (expected === 0)
            expect(result).toBe(expected);
        else if (expected === 1)
            expect(result).toBeGreaterThan(0);
        else
            expect(result).toBeLessThan(0);
    }
);
